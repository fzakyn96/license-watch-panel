import{e as B,f as He,r as n,g as ue,h as Rt,a as e,P as me,i as S,k as sn,l as F,m as an,n as nn,u as Ge,o as q,j as rn,C as us,p as on,q as gt,t as ms,v as It,w as ps,x as ln,y as nt,D as cn,z as dn,B as un,E as hs,F as mn,G as pn,H as hn,R as xn,I as fn,J as gn,K as vn}from"./index-CSeEXh7v.js";import{b as xs,B as k}from"./button-zahhjV8S.js";import{u as jn,c as fs,T as wn,O as yn,W as Nn,C as bn,a as kn,D as Cn,b as gs,P as _n,R as Sn,d as ge,e as Wt,f as ve,g as be,h as ke,i as Ce,S as Je,j as Ze,k as Qe,l as et,m as Q,n as vt,o as jt,p as ae,q as O,r as wt,s as R,t as vs,v as Mn,A as Yt,w as qt,x as Xt,y as ut,z as mt,B as Jt,H as pt,E as fe,F as Zt}from"./xlsx-BczpiuQo.js";import{I as je}from"./input-1GO4_mNk.js";import{L as de}from"./label-Ch4tk5gt.js";import{C as Xe,a as ht,c as xt,d as Qt}from"./card-1dLVL5QI.js";import{T as Dn}from"./triangle-alert-B6xSw-s9.js";import{u as yt,h as En,a as Tn,F as Rn,R as In,C as Ae,b as es}from"./index-DYQe0rtQ.js";import{C as Pn}from"./circle-check-Dxc_TZEd.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=B("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=B("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=B("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=B("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=B("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=B("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=B("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var rt="Switch",[Bn,Jo]=He(rt),[Kn,zn]=Bn(rt),ws=n.forwardRef((t,a)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:c,required:m,disabled:p,value:w="on",onCheckedChange:x,form:u,...d}=t,[f,h]=n.useState(null),l=ue(a,T=>h(T)),g=n.useRef(!1),b=f?u||!!f.closest("form"):!0,[C,P]=Rt({prop:i,defaultProp:c??!1,onChange:x,caller:rt});return e.jsxs(Kn,{scope:s,checked:C,disabled:p,children:[e.jsx(me.button,{type:"button",role:"switch","aria-checked":C,"aria-required":m,"data-state":ks(C),"data-disabled":p?"":void 0,disabled:p,value:w,...d,ref:l,onClick:S(t.onClick,T=>{P(A=>!A),b&&(g.current=T.isPropagationStopped(),g.current||T.stopPropagation())})}),b&&e.jsx(bs,{control:f,bubbles:!g.current,name:r,value:w,checked:C,required:m,disabled:p,form:u,style:{transform:"translateX(-100%)"}})]})});ws.displayName=rt;var ys="SwitchThumb",Ns=n.forwardRef((t,a)=>{const{__scopeSwitch:s,...r}=t,i=zn(ys,s);return e.jsx(me.span,{"data-state":ks(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a})});Ns.displayName=ys;var Vn="SwitchBubbleInput",bs=n.forwardRef(({__scopeSwitch:t,control:a,checked:s,bubbles:r=!0,...i},c)=>{const m=n.useRef(null),p=ue(m,c),w=jn(s),x=sn(a);return n.useEffect(()=>{const u=m.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(w!==s&&h){const l=new Event("click",{bubbles:r});h.call(u,s),u.dispatchEvent(l)}},[w,s,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:p,style:{...i.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bs.displayName=Vn;function ks(t){return t?"checked":"unchecked"}var Cs=ws,Wn=Ns;const _s=n.forwardRef(({className:t,...a},s)=>e.jsx(Cs,{className:F("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:e.jsx(Wn,{className:F("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_s.displayName=Cs.displayName;const Yn=an("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rs({className:t,variant:a,...s}){return e.jsx("div",{className:F(Yn({variant:a}),t),...s})}var Ss="AlertDialog",[qn,Zo]=He(Ss,[fs]),he=fs(),Ms=t=>{const{__scopeAlertDialog:a,...s}=t,r=he(a);return e.jsx(Sn,{...r,...s,modal:!0})};Ms.displayName=Ss;var Xn="AlertDialogTrigger",Ds=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,i=he(s);return e.jsx(wn,{...i,...r,ref:a})});Ds.displayName=Xn;var Jn="AlertDialogPortal",Es=t=>{const{__scopeAlertDialog:a,...s}=t,r=he(a);return e.jsx(_n,{...r,...s})};Es.displayName=Jn;var Zn="AlertDialogOverlay",Ts=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,i=he(s);return e.jsx(yn,{...i,...r,ref:a})});Ts.displayName=Zn;var Re="AlertDialogContent",[Qn,er]=qn(Re),tr=nn("AlertDialogContent"),Rs=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,children:r,...i}=t,c=he(s),m=n.useRef(null),p=ue(a,m),w=n.useRef(null);return e.jsx(Nn,{contentName:Re,titleName:Is,docsSlug:"alert-dialog",children:e.jsx(Qn,{scope:s,cancelRef:w,children:e.jsxs(bn,{role:"alertdialog",...c,...i,ref:p,onOpenAutoFocus:S(i.onOpenAutoFocus,x=>{var u;x.preventDefault(),(u=w.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[e.jsx(tr,{children:r}),e.jsx(ar,{contentRef:m})]})})})});Rs.displayName=Re;var Is="AlertDialogTitle",Ps=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,i=he(s);return e.jsx(kn,{...i,...r,ref:a})});Ps.displayName=Is;var As="AlertDialogDescription",Os=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,i=he(s);return e.jsx(Cn,{...i,...r,ref:a})});Os.displayName=As;var sr="AlertDialogAction",Fs=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,i=he(s);return e.jsx(gs,{...i,...r,ref:a})});Fs.displayName=sr;var Ls="AlertDialogCancel",$s=n.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:i}=er(Ls,s),c=he(s),m=ue(a,i);return e.jsx(gs,{...c,...r,ref:m})});$s.displayName=Ls;var ar=({contentRef:t})=>{const a=`\`${Re}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Re}\` by passing a \`${As}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Re}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},nr=Ms,rr=Ds,or=Es,Hs=Ts,Gs=Rs,Us=Fs,Bs=$s,Ks=Ps,zs=Os;const os=nr,is=rr,ir=or,Vs=n.forwardRef(({className:t,...a},s)=>e.jsx(Hs,{className:F("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));Vs.displayName=Hs.displayName;const Nt=n.forwardRef(({className:t,...a},s)=>e.jsxs(ir,{children:[e.jsx(Vs,{}),e.jsx(Gs,{ref:s,className:F("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));Nt.displayName=Gs.displayName;const bt=({className:t,...a})=>e.jsx("div",{className:F("flex flex-col space-y-2 text-center sm:text-left",t),...a});bt.displayName="AlertDialogHeader";const kt=({className:t,...a})=>e.jsx("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});kt.displayName="AlertDialogFooter";const Ct=n.forwardRef(({className:t,...a},s)=>e.jsx(Ks,{ref:s,className:F("text-lg font-semibold",t),...a}));Ct.displayName=Ks.displayName;const _t=n.forwardRef(({className:t,...a},s)=>e.jsx(zs,{ref:s,className:F("text-sm text-muted-foreground",t),...a}));_t.displayName=zs.displayName;const St=n.forwardRef(({className:t,...a},s)=>e.jsx(Us,{ref:s,className:F(xs({variant:"destructive"}),t),...a}));St.displayName=Us.displayName;const Mt=n.forwardRef(({className:t,...a},s)=>e.jsx(Bs,{ref:s,className:F(xs({variant:"default"}),"mt-2 sm:mt-0",t),...a}));Mt.displayName=Bs.displayName;const lr=({children:t})=>{const[a,s]=n.useState(!1),[r,i]=n.useState(!1),[c,m]=n.useState(!1),[p,w]=n.useState([]),[x,u]=n.useState(!1),[d,f]=n.useState(null),[h,l]=n.useState({name:"",email:"",email_type:"to"}),{toast:g}=Ge(),b=async()=>{try{u(!0);const D=await(await q("https://digio.pgn.co.id/lisa_backend/email/get",{method:"GET",headers:{"Content-Type":"application/json"}})).json();D.status===200?(w(D.data),(!D.data||D.data.length===0)&&g({title:"Info",description:"Tidak ada penerima email ditemukan",variant:"warning"})):D.status===404?(w([]),g({title:"Info",description:"Belum ada data penerima email",variant:"warning"})):(w([]),g({title:"Error",description:D.data||"Gagal memuat data penerima email",variant:"destructive"}))}catch(v){g({title:"Error",description:"Gagal memuat data penerima email: "+(v instanceof Error?v.message:"Unknown error"),variant:"destructive"})}finally{u(!1)}};n.useEffect(()=>{a&&b()},[a]);const C=async()=>{if(!h.name||!h.email||!h.email_type){g({title:"Error",description:"Semua field harus diisi",variant:"destructive"});return}try{const D=await(await q("https://digio.pgn.co.id/lisa_backend/email/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();D.status===201?(g({title:"Berhasil",description:"Penerima email berhasil ditambahkan",variant:"success"}),l({name:"",email:"",email_type:"to"}),i(!1),b()):g({title:"Error",description:D.data||"Gagal menambahkan penerima email",variant:"destructive"})}catch{g({title:"Error",description:"Terjadi kesalahan saat menambahkan penerima email",variant:"destructive"})}},P=async()=>{if(!d||!h.name||!h.email||!h.email_type){g({title:"Error",description:"Semua field harus diisi",variant:"destructive"});return}try{const D=await(await q("https://digio.pgn.co.id/lisa_backend/email/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:d.uuid,...h})})).json();D.status===200?(g({title:"Berhasil",description:"Penerima email berhasil diperbarui",variant:"success"}),l({name:"",email:"",email_type:"to"}),f(null),m(!1),b()):g({title:"Error",description:D.data||"Gagal memperbarui penerima email",variant:"destructive"})}catch(v){console.error("Error updating email recipient:",v),g({title:"Error",description:"Terjadi kesalahan saat memperbarui penerima email",variant:"destructive"})}},T=async v=>{try{const D=await q("https://digio.pgn.co.id/lisa_backend/email/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:v})});if(D.status===204)g({title:"Berhasil",description:"Penerima email berhasil dihapus",variant:"success"}),b();else{let y="Gagal menghapus penerima email";try{y=(await D.json()).data||y}catch{}g({title:"Error",description:y,variant:"destructive"})}}catch(D){console.error("Error deleting email recipient:",D),g({title:"Error",description:"Terjadi kesalahan saat menghapus penerima email",variant:"destructive"})}},A=v=>{f(v),l({name:v.name,email:v.email,email_type:v.email_type}),m(!0)},ee=v=>{switch(v){case"to":return"bg-success text-primary-foreground";case"cc":return"bg-warning text-secondary-foreground";case"bcc":return"bg-primary text-muted-foreground";default:return"bg-muted text-muted-foreground"}};return e.jsxs(e.Fragment,{children:[e.jsxs(ge,{open:a,onOpenChange:s,children:[e.jsx(Wt,{asChild:!0,children:t}),e.jsxs(ve,{className:"max-w-[95vw] w-full sm:max-w-4xl max-h-[90vh] flex flex-col p-4 sm:p-6",children:[e.jsxs(be,{className:"shrink-0",children:[e.jsxs(ke,{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5"}),"Kelola Penerima Email"]}),e.jsx(Ce,{className:"text-left",children:"Kelola daftar penerima email untuk notifikasi sistem"})]}),e.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto min-h-0",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(ge,{open:r,onOpenChange:i,children:[e.jsx(Wt,{asChild:!0,children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-4 h-4"}),e.jsx("span",{className:"sm:hidden",children:"Tambah"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Penerima"})]})}),e.jsxs(ve,{className:"max-w-[95vw] w-full sm:max-w-md max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[e.jsxs(be,{children:[e.jsx(ke,{children:"Tambah Penerima Email"}),e.jsx(Ce,{className:"text-left",children:"Tambahkan penerima email baru untuk notifikasi"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"name",children:"Nama"}),e.jsx(je,{id:"name",value:h.name,onChange:v=>l({...h,name:v.target.value}),placeholder:"Masukkan nama penerima"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"email",children:"Email"}),e.jsx(je,{id:"email",type:"email",value:h.email,onChange:v=>l({...h,email:v.target.value}),placeholder:"Masukkan alamat email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"email_type",children:"Tipe Email"}),e.jsxs(Je,{value:h.email_type,onValueChange:v=>l({...h,email_type:v}),children:[e.jsx(Ze,{children:e.jsx(Qe,{placeholder:"Pilih tipe email"})}),e.jsxs(et,{children:[e.jsx(Q,{value:"to",children:"To (Penerima Utama)"}),e.jsx(Q,{value:"cc",children:"CC (Carbon Copy)"}),e.jsx(Q,{value:"bcc",children:"BCC (Blind Carbon Copy)"})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2",children:[e.jsx(k,{variant:"destructive",onClick:()=>i(!1),className:"w-full sm:w-auto",children:"Batal"}),e.jsx(k,{variant:"default",onClick:C,className:"w-full sm:w-auto",children:"Tambah"})]})]})]})]})}),e.jsx("div",{className:"hidden md:block overflow-y-auto max-h-[50vh]",children:e.jsx("div",{className:"border rounded-lg",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(ae,{className:"border-b",children:[e.jsx(O,{className:"font-semibold",children:"Nama"}),e.jsx(O,{className:"font-semibold",children:"Email"}),e.jsx(O,{className:"font-semibold",children:"Tipe"}),e.jsx(O,{className:"text-right font-semibold",children:"Aksi"})]})}),e.jsx(wt,{children:x?e.jsx(ae,{children:e.jsx(R,{colSpan:4,className:"text-center py-8",children:"Memuat data..."})}):p.length===0?e.jsx(ae,{children:e.jsx(R,{colSpan:4,className:"text-center py-8",children:"Belum ada penerima email"})}):p.map(v=>e.jsxs(ae,{className:"border-b last:border-b-0",children:[e.jsx(R,{className:"font-medium",children:v.name}),e.jsx(R,{children:v.email}),e.jsx(R,{children:e.jsx(rs,{className:ee(v.email_type),children:v.email_type.toUpperCase()})}),e.jsx(R,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(k,{variant:"default",size:"sm",onClick:()=>A(v),children:e.jsx(tt,{className:"w-4 h-4"})}),e.jsxs(os,{children:[e.jsx(is,{asChild:!0,children:e.jsx(k,{variant:"destructive",size:"sm",children:e.jsx(Fe,{className:"w-4 h-4"})})}),e.jsxs(Nt,{children:[e.jsxs(bt,{children:[e.jsx(Ct,{className:"text-center",children:"Hapus Penerima Email"}),e.jsxs(_t,{className:"text-center",children:['Apakah Anda yakin ingin menghapus penerima email "',v.name,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(kt,{children:[e.jsx(Mt,{children:"Batal"}),e.jsx(St,{onClick:()=>T(v.uuid),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus"})]})]})]})]})})]},v.uuid))})]})})}),e.jsx("div",{className:"md:hidden space-y-3 overflow-y-auto max-h-[50vh]",children:x?e.jsx("div",{className:"text-center py-8",children:"Memuat data..."}):p.length===0?e.jsx("div",{className:"text-center py-8",children:"Belum ada penerima email"}):p.map(v=>e.jsx("div",{className:"border rounded-lg p-4 bg-card",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm",children:v.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate mt-1",children:v.email}),e.jsx(rs,{className:`${ee(v.email_type)} mt-2`,children:v.email_type.toUpperCase()})]})}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsxs(k,{size:"sm",variant:"default",onClick:()=>A(v),className:"flex-1",children:[e.jsx(tt,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(os,{children:[e.jsx(is,{asChild:!0,children:e.jsxs(k,{size:"sm",variant:"destructive",className:"flex-1",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"Hapus"]})}),e.jsxs(Nt,{children:[e.jsxs(bt,{children:[e.jsx(Ct,{children:"Hapus Penerima Email"}),e.jsxs(_t,{className:"text-center",children:['Apakah Anda yakin ingin menghapus penerima email "',v.name,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(kt,{children:[e.jsx(Mt,{children:"Batal"}),e.jsx(St,{onClick:()=>T(v.uuid),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus"})]})]})]})]})]})},v.uuid))})]})]})]}),e.jsx(ge,{open:c,onOpenChange:m,children:e.jsxs(ve,{className:"max-w-[95vw] w-full sm:max-w-md max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[e.jsxs(be,{children:[e.jsx(ke,{children:"Edit Penerima Email"}),e.jsx(Ce,{children:"Ubah informasi penerima email yang sudah ada"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"edit-name",children:"Nama"}),e.jsx(je,{id:"edit-name",value:h.name,onChange:v=>l({...h,name:v.target.value}),placeholder:"Masukkan nama penerima"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"edit-email",children:"Email"}),e.jsx(je,{id:"edit-email",type:"email",value:h.email,onChange:v=>l({...h,email:v.target.value}),placeholder:"Masukkan alamat email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{htmlFor:"edit-email_type",children:"Tipe Email"}),e.jsxs(Je,{value:h.email_type,onValueChange:v=>l({...h,email_type:v}),children:[e.jsx(Ze,{children:e.jsx(Qe,{placeholder:"Pilih tipe email"})}),e.jsxs(et,{children:[e.jsx(Q,{value:"to",children:"To (Penerima Utama)"}),e.jsx(Q,{value:"cc",children:"CC (Carbon Copy)"}),e.jsx(Q,{value:"bcc",children:"BCC (Blind Carbon Copy)"})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2",children:[e.jsx(k,{variant:"destructive",onClick:()=>m(!1),className:"w-full sm:w-auto",children:"Batal"}),e.jsx(k,{variant:"default",onClick:P,className:"w-full sm:w-auto",children:"Simpan"})]})]})]})})]})},cr=({open:t,onOpenChange:a,onSuccess:s})=>{const[r,i]=n.useState(!1),[c,m]=n.useState(null),[p,w]=n.useState(!1),[x,u]=n.useState([]),[d,f]=n.useState(["09:00"]),{toast:h}=Ge(),l=[{value:"1",label:"Senin"},{value:"2",label:"Selasa"},{value:"3",label:"Rabu"},{value:"4",label:"Kamis"},{value:"5",label:"Jumat"},{value:"6",label:"Sabtu"},{value:"0",label:"Minggu"}];n.useEffect(()=>{t&&g()},[t]);const g=async()=>{try{const M=await(await q("https://digio.pgn.co.id/lisa_backend/cron/running")).json();M.status===200&&M.data&&M.data.length>0?(m(M.data[0]),w(!0),b(M.data[0].time_schedule)):(w(!1),u(["1","2","3","4","5"]),f(["09:00","15:00"]))}catch(y){console.error("Error checking existing schedule:",y),w(!1),u(["1","2","3","4","5"]),f(["09:00","15:00"])}},b=y=>{const M=y.split(" ");if(M.length===5){const[E,K,,,G]=M,re=K.split(",").map(oe=>`${oe.padStart(2,"0")}:${E.padStart(2,"0")}`);if(f(re),G.includes("-")){const[oe,z]=G.split("-").map(Number),te=[];for(let U=oe;U<=z;U++)te.push(U.toString());u(te)}else G.includes(",")?u(G.split(",")):u([G])}},C=()=>{var G;const y=[...new Set(d.map(L=>L.split(":")[0]))],M=((G=d[0])==null?void 0:G.split(":")[1])||"00",E=y.join(","),K=x.sort((L,re)=>Number(L)-Number(re)).join(",");return`${M} ${E} * * ${K}`},P=async()=>{if(x.length===0||d.length===0){h({title:"Error",description:"Pilih minimal satu hari dan satu waktu",variant:"destructive"});return}i(!0);try{const y=C();if((await q("https://digio.pgn.co.id/lisa_backend/cron/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"sendEmail",time_schedule:y,is_running:!0})})).ok)h({title:"Notifikasi berhasil disimpan dan diaktifkan",description:"Notifikasi telah dijadwalkan sesuai pengaturan",variant:"success"}),s(),a(!1);else throw new Error("Failed to save schedule")}catch(y){console.error("Error saving schedule:",y),h({title:"Error",description:"Gagal menyimpan penjadwalan",variant:"destructive"})}finally{i(!1)}},T=async()=>{if(x.length===0||d.length===0){h({title:"Error",description:"Pilih minimal satu hari dan satu waktu",variant:"destructive"});return}i(!0);try{const y=C();if((await q("https://digio.pgn.co.id/lisa_backend/cron/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:c.uuid,time_schedule:y,is_running:!0})})).ok)h({title:"Notifikasi berhasil diperbarui dan diaktifkan",description:"Notifikasi telah dijadwalkan ulang sesuai pengaturan",variant:"success"}),s(),a(!1);else throw new Error("Failed to update schedule")}catch(y){console.error("Error updating schedule:",y),h({title:"Error",description:"Gagal memperbarui penjadwalan",variant:"destructive"})}finally{i(!1)}},A=()=>{f([...d,"09:00"])},ee=y=>{d.length>1&&f(d.filter((M,E)=>E!==y))},v=(y,M)=>{const E=[...d];E[y]=M,f(E)},D=y=>{x.includes(y)?u(x.filter(M=>M!==y)):u([...x,y])};return e.jsx(ge,{open:t,onOpenChange:a,children:e.jsxs(ve,{className:"sm:max-w-md",children:[e.jsxs(be,{className:"shrink-0",children:[e.jsxs(ke,{className:"flex items-center gap-2",children:[e.jsx(Un,{className:"w-5 h-5"}),"Pengaturan Penjadwalan Notifikasi"]}),e.jsx(Ce,{className:"text-left",children:"Atur hari dan waktu untuk pengiriman notifikasi"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(de,{className:"text-sm font-medium",children:"Hari"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:l.map(y=>e.jsx(k,{type:"button",variant:x.includes(y.value)?"default":"outline",size:"sm",onClick:()=>D(y.value),className:"text-xs",children:y.label},y.value))})]}),e.jsxs("div",{children:[e.jsx(de,{className:"text-sm font-medium",children:"Waktu"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[d.map((y,M)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{type:"time",value:y,onChange:E=>v(M,E.target.value),className:"flex-1"}),d.length>1&&e.jsx(k,{type:"button",variant:"destructive",size:"sm",onClick:()=>ee(M),children:e.jsx(Fe,{className:"w-4 h-4"})})]},M)),e.jsxs(k,{type:"button",variant:"warning",size:"sm",onClick:A,className:"w-full",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Tambah Waktu"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(k,{variant:"destructive",onClick:()=>a(!1),className:"flex-1",children:"Batal"}),p?e.jsx(k,{onClick:T,disabled:r,className:"flex-1",children:r?"Memperbarui...":"Perbarui & Aktifkan"}):e.jsx(k,{onClick:P,disabled:r,className:"flex-1",children:r?"Menyimpan...":"Simpan & Aktifkan"})]})]})]})})},dr=({onLogout:t})=>{const[a,s]=n.useState(!1),[r,i]=n.useState(!1),[c,m]=n.useState(!1),{toast:p}=Ge(),{theme:w,setTheme:x}=rn();n.useEffect(()=>{i(window.self!==window.top)},[]),n.useEffect(()=>{u()},[]);const u=async()=>{try{const l=await(await q("https://digio.pgn.co.id/lisa_backend/cron/running")).json();l.status===404&&(s(!1),p({title:"Penjadwalan notifikasi belum tersedia",description:"Aktifkan notifikasi untuk membuat jadwal pengiriman notifikasi",variant:"destructive"})),l.status===200&&l.data[0].is_running===!0&&s(!0),l.status===200&&l.data[0].is_running===!1&&s(!1)}catch(h){console.error("Error checking notification status:",h)}},d=async h=>{if(h)m(!0);else try{const g=await(await q("https://digio.pgn.co.id/lisa_backend/cron/running")).json();if(g.status===200&&g.data&&g.data.length>0){const b=g.data[0].uuid;(await q("https://digio.pgn.co.id/lisa_backend/cron/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:b,is_running:!1})})).ok&&(s(!1),p({title:"Notifikasi dinonaktifkan",description:"Notifikasi telah dinonaktifkan",variant:"destructive"}))}}catch(l){console.error("Error disabling notification:",l),p({title:"Error",description:"Terjadi kesalahan saat menonaktifkan notifikasi",variant:"destructive"})}},f=()=>{s(!0),u()};return e.jsxs("header",{className:"bg-card border-b border-border shadow-sm sticky top-0 z-10",children:[e.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("img",{src:w==="dark"?"/lisa/logo-dark.png":"/lisa/logo-white.png",alt:"Lisensi Aset Logo",className:"h-8 w-auto sm:h-8 object-contain"}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-foreground",children:"Lisensi Aset"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Sistem Monitoring Lisensi Aset"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(lr,{children:e.jsxs(k,{variant:"default",size:"sm",className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx(js,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Email"})]})}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(An,{className:`w-4 h-4 sm:w-5 sm:h-5 ${a?"text-primary":"text-muted-foreground"}`}),e.jsx(_s,{checked:a,onCheckedChange:d,"aria-label":"Toggle notifications",className:"scale-75 sm:scale-100"}),e.jsx("span",{className:"hidden sm:inline text-sm text-muted-foreground",children:a?"Aktif":"Nonaktif"})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>x(w==="dark"?"light":"dark"),className:"px-2 sm:px-3 py-1 sm:py-2",children:w==="dark"?e.jsx(Gn,{className:"w-4 h-4"}):e.jsx(Hn,{className:"w-4 h-4"})}),!r&&e.jsxs(k,{variant:"destructive",size:"sm",onClick:t,className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx($n,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),e.jsx(cr,{open:c,onOpenChange:m,onSuccess:f})]})},ur=n.forwardRef((t,a)=>{const[s,r]=n.useState([]),[i,c]=n.useState(!0),[m,p]=n.useState(null),w=n.useRef(!1),x=n.useRef(null),[u,d]=n.useState(0),{toast:f}=Ge();n.useEffect(()=>{w.current||(h(),w.current=!0);const l=x.current,g=s.length,b=setInterval(()=>{const C=(u+1)%g,P=l.clientWidth;l.scrollTo({left:C*P,behavior:"smooth"}),d(C)},3e3);return()=>clearInterval(b)},[u,s.length]),n.useEffect(()=>{const l=x.current;if(!l)return;const g=()=>{const b=l.clientWidth,C=Math.round(l.scrollLeft/b);d(C)};return l.addEventListener("scroll",g),()=>l.removeEventListener("scroll",g)},[]);const h=async()=>{try{const g=await(await q("https://digio.pgn.co.id/lisa_backend/home/get")).json();if(g.status===200&&g.data){const b=g.data.map(C=>{switch(C.status){case"secure":return{title:"Lisensi Aman",count:C.count,total:C.total_data,icon:e.jsx(on,{className:"w-6 h-6 sm:w-8 sm:h-8"}),color:"text-success-foreground",bgColor:"bg-success"};case"will_expire":return{title:"Akan Kadaluarsa",count:C.count,total:C.total_data,icon:e.jsx(Dn,{className:"w-6 h-6 sm:w-8 sm:h-8"}),color:"text-warning-foreground",bgColor:"bg-warning"};case"expired":return{title:"Sudah Kadaluarsa",count:C.count,total:C.total_data,icon:e.jsx(us,{className:"w-6 h-6 sm:w-8 sm:h-8"}),color:"text-destructive-foreground",bgColor:"bg-destructive"};default:return null}}).filter(Boolean);r(b),p(null)}else throw new Error("Data tidak valid")}catch{const g="Gagal memuat data status lisensi";p(g),f({title:"Error",description:g,variant:"destructive"})}finally{c(!1)}};return n.useImperativeHandle(a,()=>({refreshData:h})),i?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[1,2,3].map(l=>e.jsxs(Xe,{className:"overflow-hidden animate-pulse",children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20 sm:w-24"}),e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-muted rounded-lg"})]}),e.jsxs(xt,{children:[e.jsx("div",{className:"h-6 sm:h-8 bg-muted rounded w-12 sm:w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-24 sm:w-32"})]})]},l))}):m?e.jsx(Xe,{className:"p-4 sm:p-6 border-destructive mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[e.jsx(gt,{className:"w-5 h-5 sm:w-6 sm:h-6"}),e.jsx("p",{className:"text-sm sm:text-base",children:m})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sm:hidden w-full relative",children:[e.jsx("div",{ref:x,className:"flex overflow-x-auto snap-x snap-mandatory scroll-smooth no-scrollbar w-full",children:s.map((l,g)=>e.jsxs(Xe,{className:`w-full flex-shrink-0 rounded-xl shadow-md border-0 bg-gradient-to-r ${l.bgColor} snap-center`,children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between pb-1",children:[e.jsx(Qt,{className:"text-sm font-medium text-white",children:l.title}),e.jsx("div",{className:"p-2 rounded-full bg-white/20 text-white",children:l.icon})]}),e.jsxs(xt,{children:[e.jsx("div",{className:"text-4xl font-bold text-white",children:l.count}),e.jsxs("p",{className:"text-sm text-white/80 mt-1",children:[l.count," dari ",l.total]})]})]},g))}),e.jsx("div",{className:"flex justify-center mt-2 space-x-2",children:s.map((l,g)=>e.jsx("span",{className:`w-2.5 h-2.5 rounded-full transition-all ${g===u?"bg-slate-800 scale-110":"bg-slate-400"}`},g))})]}),e.jsx("div",{className:"hidden sm:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:s.map((l,g)=>e.jsxs(Xe,{className:"overflow-hidden rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(ht,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Qt,{className:"text-sm sm:text-base font-semibold text-muted-foreground",children:l.title}),e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${l.bgColor} text-white flex items-center justify-center`,children:l.icon})]}),e.jsxs(xt,{children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:l.count}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.count," dari ",l.total," lisensi"]})]})]},g))})]})}),mr=n.memo(ur);var ft="rovingFocusGroup.onEntryFocus",pr={bubbles:!1,cancelable:!0},Ue="RovingFocusGroup",[Dt,Ws,hr]=ms(Ue),[xr,Ys]=He(Ue,[hr]),[fr,gr]=xr(Ue),qs=n.forwardRef((t,a)=>e.jsx(Dt.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Dt.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(vr,{...t,ref:a})})}));qs.displayName=Ue;var vr=n.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:c,currentTabStopId:m,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:w,onEntryFocus:x,preventScrollOnEntryFocus:u=!1,...d}=t,f=n.useRef(null),h=ue(a,f),l=vs(c),[g,b]=Rt({prop:m,defaultProp:p??null,onChange:w,caller:Ue}),[C,P]=n.useState(!1),T=It(x),A=Ws(s),ee=n.useRef(!1),[v,D]=n.useState(0);return n.useEffect(()=>{const y=f.current;if(y)return y.addEventListener(ft,T),()=>y.removeEventListener(ft,T)},[T]),e.jsx(fr,{scope:s,orientation:r,dir:l,loop:i,currentTabStopId:g,onItemFocus:n.useCallback(y=>b(y),[b]),onItemShiftTab:n.useCallback(()=>P(!0),[]),onFocusableItemAdd:n.useCallback(()=>D(y=>y+1),[]),onFocusableItemRemove:n.useCallback(()=>D(y=>y-1),[]),children:e.jsx(me.div,{tabIndex:C||v===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:S(t.onMouseDown,()=>{ee.current=!0}),onFocus:S(t.onFocus,y=>{const M=!ee.current;if(y.target===y.currentTarget&&M&&!C){const E=new CustomEvent(ft,pr);if(y.currentTarget.dispatchEvent(E),!E.defaultPrevented){const K=A().filter(z=>z.focusable),G=K.find(z=>z.active),L=K.find(z=>z.id===g),oe=[G,L,...K].filter(Boolean).map(z=>z.ref.current);Zs(oe,u)}}ee.current=!1}),onBlur:S(t.onBlur,()=>P(!1))})})}),Xs="RovingFocusGroupItem",Js=n.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:c,children:m,...p}=t,w=yt(),x=c||w,u=gr(Xs,s),d=u.currentTabStopId===x,f=Ws(s),{onFocusableItemAdd:h,onFocusableItemRemove:l,currentTabStopId:g}=u;return n.useEffect(()=>{if(r)return h(),()=>l()},[r,h,l]),e.jsx(Dt.ItemSlot,{scope:s,id:x,focusable:r,active:i,children:e.jsx(me.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...p,ref:a,onMouseDown:S(t.onMouseDown,b=>{r?u.onItemFocus(x):b.preventDefault()}),onFocus:S(t.onFocus,()=>u.onItemFocus(x)),onKeyDown:S(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const C=yr(b,u.orientation,u.dir);if(C!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let T=f().filter(A=>A.focusable).map(A=>A.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const A=T.indexOf(b.currentTarget);T=u.loop?Nr(T,A+1):T.slice(A+1)}setTimeout(()=>Zs(T))}}),children:typeof m=="function"?m({isCurrentTabStop:d,hasTabStop:g!=null}):m})})});Js.displayName=Xs;var jr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wr(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yr(t,a,s){const r=wr(t.key,s);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jr[r]}function Zs(t,a=!1){const s=document.activeElement;for(const r of t)if(r===s||(r.focus({preventScroll:a}),document.activeElement!==s))return}function Nr(t,a){return t.map((s,r)=>t[(a+r)%t.length])}var br=qs,kr=Js,Et=["Enter"," "],Cr=["ArrowDown","PageUp","Home"],Qs=["ArrowUp","PageDown","End"],_r=[...Cr,...Qs],Sr={ltr:[...Et,"ArrowRight"],rtl:[...Et,"ArrowLeft"]},Mr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Be="Menu",[Le,Dr,Er]=ms(Be),[_e,ea]=He(Be,[Er,ps,Ys]),ot=ps(),ta=Ys(),[Tr,Se]=_e(Be),[Rr,Ke]=_e(Be),sa=t=>{const{__scopeMenu:a,open:s=!1,children:r,dir:i,onOpenChange:c,modal:m=!0}=t,p=ot(a),[w,x]=n.useState(null),u=n.useRef(!1),d=It(c),f=vs(i);return n.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",l,{capture:!0,once:!0}),document.addEventListener("pointermove",l,{capture:!0,once:!0})},l=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",l,{capture:!0}),document.removeEventListener("pointermove",l,{capture:!0})}},[]),e.jsx(xn,{...p,children:e.jsx(Tr,{scope:a,open:s,onOpenChange:d,content:w,onContentChange:x,children:e.jsx(Rr,{scope:a,onClose:n.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:m,children:r})})})};sa.displayName=Be;var Ir="MenuAnchor",At=n.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t,i=ot(s);return e.jsx(ln,{...i,...r,ref:a})});At.displayName=Ir;var Ot="MenuPortal",[Pr,aa]=_e(Ot,{forceMount:void 0}),na=t=>{const{__scopeMenu:a,forceMount:s,children:r,container:i}=t,c=Se(Ot,a);return e.jsx(Pr,{scope:a,forceMount:s,children:e.jsx(nt,{present:s||c.open,children:e.jsx(pn,{asChild:!0,container:i,children:r})})})};na.displayName=Ot;var ne="MenuContent",[Ar,Ft]=_e(ne),ra=n.forwardRef((t,a)=>{const s=aa(ne,t.__scopeMenu),{forceMount:r=s.forceMount,...i}=t,c=Se(ne,t.__scopeMenu),m=Ke(ne,t.__scopeMenu);return e.jsx(Le.Provider,{scope:t.__scopeMenu,children:e.jsx(nt,{present:r||c.open,children:e.jsx(Le.Slot,{scope:t.__scopeMenu,children:m.modal?e.jsx(Or,{...i,ref:a}):e.jsx(Fr,{...i,ref:a})})})})}),Or=n.forwardRef((t,a)=>{const s=Se(ne,t.__scopeMenu),r=n.useRef(null),i=ue(a,r);return n.useEffect(()=>{const c=r.current;if(c)return En(c)},[]),e.jsx(Lt,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:S(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Fr=n.forwardRef((t,a)=>{const s=Se(ne,t.__scopeMenu);return e.jsx(Lt,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Lr=hn("MenuContent.ScrollLock"),Lt=n.forwardRef((t,a)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:m,disableOutsidePointerEvents:p,onEntryFocus:w,onEscapeKeyDown:x,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:l,...g}=t,b=Se(ne,s),C=Ke(ne,s),P=ot(s),T=ta(s),A=Dr(s),[ee,v]=n.useState(null),D=n.useRef(null),y=ue(a,D,b.onContentChange),M=n.useRef(0),E=n.useRef(""),K=n.useRef(0),G=n.useRef(null),L=n.useRef("right"),re=n.useRef(0),oe=l?In:n.Fragment,z=l?{as:Lr,allowPinchZoom:!0}:void 0,te=N=>{var pe,ce;const V=E.current+N,se=A().filter(ie=>!ie.disabled),J=document.activeElement,xe=(pe=se.find(ie=>ie.ref.current===J))==null?void 0:pe.textValue,Ie=se.map(ie=>ie.textValue),W=Xr(Ie,V,xe),le=(ce=se.find(ie=>ie.textValue===W))==null?void 0:ce.ref.current;(function ie(ze){E.current=ze,window.clearTimeout(M.current),ze!==""&&(M.current=window.setTimeout(()=>ie(""),1e3))})(V),le&&setTimeout(()=>le.focus())};n.useEffect(()=>()=>window.clearTimeout(M.current),[]),Tn();const U=n.useCallback(N=>{var se,J;return L.current===((se=G.current)==null?void 0:se.side)&&Zr(N,(J=G.current)==null?void 0:J.area)},[]);return e.jsx(Ar,{scope:s,searchRef:E,onItemEnter:n.useCallback(N=>{U(N)&&N.preventDefault()},[U]),onItemLeave:n.useCallback(N=>{var V;U(N)||((V=D.current)==null||V.focus(),v(null))},[U]),onTriggerLeave:n.useCallback(N=>{U(N)&&N.preventDefault()},[U]),pointerGraceTimerRef:K,onPointerGraceIntentChange:n.useCallback(N=>{G.current=N},[]),children:e.jsx(oe,{...z,children:e.jsx(Rn,{asChild:!0,trapped:i,onMountAutoFocus:S(c,N=>{var V;N.preventDefault(),(V=D.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:m,children:e.jsx(cn,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:x,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:e.jsx(br,{asChild:!0,...T,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:ee,onCurrentTabStopIdChange:v,onEntryFocus:S(w,N=>{C.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(dn,{role:"menu","aria-orientation":"vertical","data-state":ya(b.open),"data-radix-menu-content":"",dir:C.dir,...P,...g,ref:y,style:{outline:"none",...g.style},onKeyDown:S(g.onKeyDown,N=>{const se=N.target.closest("[data-radix-menu-content]")===N.currentTarget,J=N.ctrlKey||N.altKey||N.metaKey,xe=N.key.length===1;se&&(N.key==="Tab"&&N.preventDefault(),!J&&xe&&te(N.key));const Ie=D.current;if(N.target!==Ie||!_r.includes(N.key))return;N.preventDefault();const le=A().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);Qs.includes(N.key)&&le.reverse(),Yr(le)}),onBlur:S(t.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(M.current),E.current="")}),onPointerMove:S(t.onPointerMove,$e(N=>{const V=N.target,se=re.current!==N.clientX;if(N.currentTarget.contains(V)&&se){const J=N.clientX>re.current?"right":"left";L.current=J,re.current=N.clientX}}))})})})})})})});ra.displayName=ne;var $r="MenuGroup",$t=n.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t;return e.jsx(me.div,{role:"group",...r,ref:a})});$t.displayName=$r;var Hr="MenuLabel",oa=n.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t;return e.jsx(me.div,{...r,ref:a})});oa.displayName=Hr;var st="MenuItem",ls="menu.itemSelect",it=n.forwardRef((t,a)=>{const{disabled:s=!1,onSelect:r,...i}=t,c=n.useRef(null),m=Ke(st,t.__scopeMenu),p=Ft(st,t.__scopeMenu),w=ue(a,c),x=n.useRef(!1),u=()=>{const d=c.current;if(!s&&d){const f=new CustomEvent(ls,{bubbles:!0,cancelable:!0});d.addEventListener(ls,h=>r==null?void 0:r(h),{once:!0}),mn(d,f),f.defaultPrevented?x.current=!1:m.onClose()}};return e.jsx(ia,{...i,ref:w,disabled:s,onClick:S(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),x.current=!0},onPointerUp:S(t.onPointerUp,d=>{var f;x.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:S(t.onKeyDown,d=>{const f=p.searchRef.current!=="";s||f&&d.key===" "||Et.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});it.displayName=st;var ia=n.forwardRef((t,a)=>{const{__scopeMenu:s,disabled:r=!1,textValue:i,...c}=t,m=Ft(st,s),p=ta(s),w=n.useRef(null),x=ue(a,w),[u,d]=n.useState(!1),[f,h]=n.useState("");return n.useEffect(()=>{const l=w.current;l&&h((l.textContent??"").trim())},[c.children]),e.jsx(Le.ItemSlot,{scope:s,disabled:r,textValue:i??f,children:e.jsx(kr,{asChild:!0,...p,focusable:!r,children:e.jsx(me.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:x,onPointerMove:S(t.onPointerMove,$e(l=>{r?m.onItemLeave(l):(m.onItemEnter(l),l.defaultPrevented||l.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:S(t.onPointerLeave,$e(l=>m.onItemLeave(l))),onFocus:S(t.onFocus,()=>d(!0)),onBlur:S(t.onBlur,()=>d(!1))})})})}),Gr="MenuCheckboxItem",la=n.forwardRef((t,a)=>{const{checked:s=!1,onCheckedChange:r,...i}=t;return e.jsx(pa,{scope:t.__scopeMenu,checked:s,children:e.jsx(it,{role:"menuitemcheckbox","aria-checked":at(s)?"mixed":s,...i,ref:a,"data-state":Gt(s),onSelect:S(i.onSelect,()=>r==null?void 0:r(at(s)?!0:!s),{checkForDefaultPrevented:!1})})})});la.displayName=Gr;var ca="MenuRadioGroup",[Ur,Br]=_e(ca,{value:void 0,onValueChange:()=>{}}),da=n.forwardRef((t,a)=>{const{value:s,onValueChange:r,...i}=t,c=It(r);return e.jsx(Ur,{scope:t.__scopeMenu,value:s,onValueChange:c,children:e.jsx($t,{...i,ref:a})})});da.displayName=ca;var ua="MenuRadioItem",ma=n.forwardRef((t,a)=>{const{value:s,...r}=t,i=Br(ua,t.__scopeMenu),c=s===i.value;return e.jsx(pa,{scope:t.__scopeMenu,checked:c,children:e.jsx(it,{role:"menuitemradio","aria-checked":c,...r,ref:a,"data-state":Gt(c),onSelect:S(r.onSelect,()=>{var m;return(m=i.onValueChange)==null?void 0:m.call(i,s)},{checkForDefaultPrevented:!1})})})});ma.displayName=ua;var Ht="MenuItemIndicator",[pa,Kr]=_e(Ht,{checked:!1}),ha=n.forwardRef((t,a)=>{const{__scopeMenu:s,forceMount:r,...i}=t,c=Kr(Ht,s);return e.jsx(nt,{present:r||at(c.checked)||c.checked===!0,children:e.jsx(me.span,{...i,ref:a,"data-state":Gt(c.checked)})})});ha.displayName=Ht;var zr="MenuSeparator",xa=n.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t;return e.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:a})});xa.displayName=zr;var Vr="MenuArrow",fa=n.forwardRef((t,a)=>{const{__scopeMenu:s,...r}=t,i=ot(s);return e.jsx(un,{...i,...r,ref:a})});fa.displayName=Vr;var Wr="MenuSub",[Qo,ga]=_e(Wr),Oe="MenuSubTrigger",va=n.forwardRef((t,a)=>{const s=Se(Oe,t.__scopeMenu),r=Ke(Oe,t.__scopeMenu),i=ga(Oe,t.__scopeMenu),c=Ft(Oe,t.__scopeMenu),m=n.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:w}=c,x={__scopeMenu:t.__scopeMenu},u=n.useCallback(()=>{m.current&&window.clearTimeout(m.current),m.current=null},[]);return n.useEffect(()=>u,[u]),n.useEffect(()=>{const d=p.current;return()=>{window.clearTimeout(d),w(null)}},[p,w]),e.jsx(At,{asChild:!0,...x,children:e.jsx(ia,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":ya(s.open),...t,ref:hs(a,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:S(t.onPointerMove,$e(d=>{c.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!s.open&&!m.current&&(c.onPointerGraceIntentChange(null),m.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:S(t.onPointerLeave,$e(d=>{var h,l;u();const f=(h=s.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(l=s.content)==null?void 0:l.dataset.side,b=g==="right",C=b?-5:5,P=f[b?"left":"right"],T=f[b?"right":"left"];c.onPointerGraceIntentChange({area:[{x:d.clientX+C,y:d.clientY},{x:P,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:P,y:f.bottom}],side:g}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(d),d.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:S(t.onKeyDown,d=>{var h;const f=c.searchRef.current!=="";t.disabled||f&&d.key===" "||Sr[r.dir].includes(d.key)&&(s.onOpenChange(!0),(h=s.content)==null||h.focus(),d.preventDefault())})})})});va.displayName=Oe;var ja="MenuSubContent",wa=n.forwardRef((t,a)=>{const s=aa(ne,t.__scopeMenu),{forceMount:r=s.forceMount,...i}=t,c=Se(ne,t.__scopeMenu),m=Ke(ne,t.__scopeMenu),p=ga(ja,t.__scopeMenu),w=n.useRef(null),x=ue(a,w);return e.jsx(Le.Provider,{scope:t.__scopeMenu,children:e.jsx(nt,{present:r||c.open,children:e.jsx(Le.Slot,{scope:t.__scopeMenu,children:e.jsx(Lt,{id:p.contentId,"aria-labelledby":p.triggerId,...i,ref:x,align:"start",side:m.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;m.isUsingKeyboardRef.current&&((d=w.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:S(t.onFocusOutside,u=>{u.target!==p.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:S(t.onEscapeKeyDown,u=>{m.onClose(),u.preventDefault()}),onKeyDown:S(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=Mr[m.dir].includes(u.key);d&&f&&(c.onOpenChange(!1),(h=p.trigger)==null||h.focus(),u.preventDefault())})})})})})});wa.displayName=ja;function ya(t){return t?"open":"closed"}function at(t){return t==="indeterminate"}function Gt(t){return at(t)?"indeterminate":t?"checked":"unchecked"}function Yr(t){const a=document.activeElement;for(const s of t)if(s===a||(s.focus(),document.activeElement!==a))return}function qr(t,a){return t.map((s,r)=>t[(a+r)%t.length])}function Xr(t,a,s){const i=a.length>1&&Array.from(a).every(x=>x===a[0])?a[0]:a,c=s?t.indexOf(s):-1;let m=qr(t,Math.max(c,0));i.length===1&&(m=m.filter(x=>x!==s));const w=m.find(x=>x.toLowerCase().startsWith(i.toLowerCase()));return w!==s?w:void 0}function Jr(t,a){const{x:s,y:r}=t;let i=!1;for(let c=0,m=a.length-1;c<a.length;m=c++){const p=a[c],w=a[m],x=p.x,u=p.y,d=w.x,f=w.y;u>r!=f>r&&s<(d-x)*(r-u)/(f-u)+x&&(i=!i)}return i}function Zr(t,a){if(!a)return!1;const s={x:t.clientX,y:t.clientY};return Jr(s,a)}function $e(t){return a=>a.pointerType==="mouse"?t(a):void 0}var Qr=sa,eo=At,to=na,so=ra,ao=$t,no=oa,ro=it,oo=la,io=da,lo=ma,co=ha,uo=xa,mo=fa,po=va,ho=wa,lt="DropdownMenu",[xo,ei]=He(lt,[ea]),X=ea(),[fo,Na]=xo(lt),ba=t=>{const{__scopeDropdownMenu:a,children:s,dir:r,open:i,defaultOpen:c,onOpenChange:m,modal:p=!0}=t,w=X(a),x=n.useRef(null),[u,d]=Rt({prop:i,defaultProp:c??!1,onChange:m,caller:lt});return e.jsx(fo,{scope:a,triggerId:yt(),triggerRef:x,contentId:yt(),open:u,onOpenChange:d,onOpenToggle:n.useCallback(()=>d(f=>!f),[d]),modal:p,children:e.jsx(Qr,{...w,open:u,onOpenChange:d,dir:r,modal:p,children:s})})};ba.displayName=lt;var ka="DropdownMenuTrigger",Ca=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...i}=t,c=Na(ka,s),m=X(s);return e.jsx(eo,{asChild:!0,...m,children:e.jsx(me.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:hs(a,c.triggerRef),onPointerDown:S(t.onPointerDown,p=>{!r&&p.button===0&&p.ctrlKey===!1&&(c.onOpenToggle(),c.open||p.preventDefault())}),onKeyDown:S(t.onKeyDown,p=>{r||(["Enter"," "].includes(p.key)&&c.onOpenToggle(),p.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});Ca.displayName=ka;var go="DropdownMenuPortal",_a=t=>{const{__scopeDropdownMenu:a,...s}=t,r=X(a);return e.jsx(to,{...r,...s})};_a.displayName=go;var Sa="DropdownMenuContent",Ma=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=Na(Sa,s),c=X(s),m=n.useRef(!1);return e.jsx(so,{id:i.contentId,"aria-labelledby":i.triggerId,...c,...r,ref:a,onCloseAutoFocus:S(t.onCloseAutoFocus,p=>{var w;m.current||(w=i.triggerRef.current)==null||w.focus(),m.current=!1,p.preventDefault()}),onInteractOutside:S(t.onInteractOutside,p=>{const w=p.detail.originalEvent,x=w.button===0&&w.ctrlKey===!0,u=w.button===2||x;(!i.modal||u)&&(m.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ma.displayName=Sa;var vo="DropdownMenuGroup",jo=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(ao,{...i,...r,ref:a})});jo.displayName=vo;var wo="DropdownMenuLabel",Da=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(no,{...i,...r,ref:a})});Da.displayName=wo;var yo="DropdownMenuItem",Ea=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(ro,{...i,...r,ref:a})});Ea.displayName=yo;var No="DropdownMenuCheckboxItem",Ta=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(oo,{...i,...r,ref:a})});Ta.displayName=No;var bo="DropdownMenuRadioGroup",ko=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(io,{...i,...r,ref:a})});ko.displayName=bo;var Co="DropdownMenuRadioItem",Ra=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(lo,{...i,...r,ref:a})});Ra.displayName=Co;var _o="DropdownMenuItemIndicator",Ia=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(co,{...i,...r,ref:a})});Ia.displayName=_o;var So="DropdownMenuSeparator",Pa=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(uo,{...i,...r,ref:a})});Pa.displayName=So;var Mo="DropdownMenuArrow",Do=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(mo,{...i,...r,ref:a})});Do.displayName=Mo;var Eo="DropdownMenuSubTrigger",Aa=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(po,{...i,...r,ref:a})});Aa.displayName=Eo;var To="DropdownMenuSubContent",Oa=n.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...r}=t,i=X(s);return e.jsx(ho,{...i,...r,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oa.displayName=To;var Ro=ba,Io=Ca,Po=_a,Fa=Ma,La=Da,$a=Ea,Ha=Ta,Ga=Ra,Ua=Ia,Ba=Pa,Ka=Aa,za=Oa;const cs=Ro,ds=Io,Ao=n.forwardRef(({className:t,inset:a,children:s,...r},i)=>e.jsxs(Ka,{ref:i,className:F("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...r,children:[s,e.jsx(Ae,{className:"ml-auto h-4 w-4"})]}));Ao.displayName=Ka.displayName;const Oo=n.forwardRef(({className:t,...a},s)=>e.jsx(za,{ref:s,className:F("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Oo.displayName=za.displayName;const Tt=n.forwardRef(({className:t,sideOffset:a=4,...s},r)=>e.jsx(Po,{children:e.jsx(Fa,{ref:r,sideOffset:a,className:F("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Tt.displayName=Fa.displayName;const Te=n.forwardRef(({className:t,inset:a,...s},r)=>e.jsx($a,{ref:r,className:F("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...s}));Te.displayName=$a.displayName;const Fo=n.forwardRef(({className:t,children:a,checked:s,...r},i)=>e.jsxs(Ha,{ref:i,className:F("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ua,{children:e.jsx(Mn,{className:"h-4 w-4"})})}),a]}));Fo.displayName=Ha.displayName;const Lo=n.forwardRef(({className:t,children:a,...s},r)=>e.jsxs(Ga,{ref:r,className:F("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ua,{children:e.jsx(On,{className:"h-2 w-2 fill-current"})})}),a]}));Lo.displayName=Ga.displayName;const $o=n.forwardRef(({className:t,inset:a,...s},r)=>e.jsx(La,{ref:r,className:F("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...s}));$o.displayName=La.displayName;const Ho=n.forwardRef(({className:t,...a},s)=>e.jsx(Ba,{ref:s,className:F("-mx-1 my-1 h-px bg-muted",t),...a}));Ho.displayName=Ba.displayName;const Go=({onDataChange:t})=>{const a=fn(),[s,r]=n.useState(""),[i,c]=n.useState([]),[m,p]=n.useState(!0),[w,x]=n.useState(!1),[u,d]=n.useState(null),[f,h]=n.useState(!1),[l,g]=n.useState(1),[b,C]=n.useState("10"),[P,T]=n.useState(1),[A,ee]=n.useState(0),[v,D]=n.useState("status_lisensi"),[y,M]=n.useState("asc"),{toast:E}=Ge(),[K,G]=n.useState(""),[L,re]=n.useState(""),[oe,z]=n.useState("asc"),[te,U]=n.useState(1),[N,V]=n.useState(5),se=async(o=1,j=10,_,Z,$)=>{try{let I=`https://digio.pgn.co.id/lisa_backend/licenses/get?page=${o}&paginate=${j}&name=${_?encodeURIComponent(_):""}`;const De=Z||"status_lisensi",ct=($||"asc").toUpperCase();I+=`&sortField=${De}&sortOrder=${ct}`;const Ee=await(await q(I)).json();return Ee.status===200?(c(Ee.data.docs),T(Ee.data.pages),ee(Ee.data.total),Ee.data.docs):[]}catch{return E({title:"Error",description:"Terjadi kesalahan saat memuat data lisensi",variant:"destructive"}),[]}},J=n.useCallback(async o=>{p(!0);try{await se(l,parseInt(b),o,v,y)}catch(j){console.error("Error fetching data:",j)}finally{p(!1)}},[l,b,v,y]);n.useEffect(()=>{if(s){const o=setTimeout(()=>{J(s),g(1)},500);return()=>clearTimeout(o)}else J()},[l,b,s,v,y]);const[xe,Ie]=n.useState({}),W=o=>{const j={day:"2-digit",month:"long",year:"numeric"};return new Date(o).toLocaleDateString("id-ID",j)},le=o=>{switch(o){case 1:return{text:"Sudah Kadaluarsa",color:"bg-red-100 text-red-700 border-red-200",icon:us};case 2:return{text:"Akan Kadaluarsa",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:gt};case 3:return{text:"Aman",color:"bg-green-100 text-green-700 border-green-200",icon:Pn};default:return{text:"Unknown",color:"bg-gray-100 text-gray-700 border-gray-200",icon:gt}}},pe=o=>{Ie(j=>({...j,[o]:!j[o]}))},ce=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),ie=async()=>{try{p(!0);const _=await(await q("https://digio.pgn.co.id/lisa_backend/licenses/get?page=1&paginate=9999&name=")).json();if(_.status!==200||_.data.docs.length===0){E({title:"Info",description:"Tidak ada data yang bisa diekspor (data kosong)",variant:"warning"});return}const $=_.data.docs.map(H=>({UUID:H.uuid,"Nama Aset":H.name,"Tanggal Mulai":W(H.start_date),"Tanggal Berakhir":W(H.end_date),Status:le(H.status_lisensi).text,Volume:H.volume,Satuan:H.satuan,"Harga Satuan":H.harga_satuan,"Total Harga":H.jumlah,Username:H.username,Password:H.password,Lokasi:H.lokasi_lisensi,Catatan:H.description,User:H.last_user_input})),I=fe.json_to_sheet($),De=fe.book_new();fe.book_append_sheet(De,I,"Data Lisensi");const ct=[{wch:30},{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:15},{wch:15},{wch:20},{wch:20},{wch:30},{wch:40},{wch:20}];I["!cols"]=ct;const dt=fe.decode_range(I["!ref"]||"A1");for(let H=dt.s.c;H<=dt.e.c;++H){const Vt=fe.encode_col(H)+"1";I[Vt]&&(I[Vt].s={font:{bold:!0},fill:{fgColor:{rgb:"EFEFEF"}},alignment:{horizontal:"center"}})}const tn=new Date().toISOString().split("T")[0];Zt(De,`Data_Lisensi_${tn}.xlsx`),E({title:"Export berhasil",description:"Data lisensi telah diekspor ke file Excel",variant:"success"})}catch{return}finally{p(!1)}},ze=o=>{var _;const j=(_=o.target.files)==null?void 0:_[0];j&&d(j)},Va=()=>{x(!0)},Wa=()=>{window.open("/lisa/Template_Upload_Data_Lisensi.xlsx","_blank")},[Ut,Pe]=n.useState(!1),[Ya,Ve]=n.useState(!1),[Y,Bt]=n.useState(null),Me=(o,j)=>{o==="Delete"?(Bt(j),Ve(!0)):o==="Edit"?a(`/edit/${j.uuid}`):o==="History"&&(Bt(j),Pe(!0))},qa=async()=>{if(Y)try{if((await q("https://digio.pgn.co.id/lisa_backend/licenses/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:Y.uuid})})).ok)a("/"),E({title:"Berhasil",description:"Data lisensi berhasil dihapus",variant:"success"}),Ve(!1),J(s),t==null||t();else throw new Error("Gagal menghapus data")}catch{E({title:"Error",description:"Terjadi kesalahan saat menghapus data lisensi",variant:"destructive"})}},Xa=async()=>{if(!u){E({title:"Error",description:"Pilih file terlebih dahulu",variant:"destructive"});return}try{h(!0);const o=new FormData;o.append("file",u);const j=vn("auth_name")||"";if(o.append("last_user_input",j),(await q("https://digio.pgn.co.id/lisa_backend/licenses/upload",{method:"POST",body:o})).ok)a("/"),E({title:"Import berhasil",description:"Data lisensi telah berhasil diimport",variant:"success"}),x(!1),d(null),J(s),t==null||t();else throw new Error("Import gagal")}catch{E({title:"Import gagal",description:"Terjadi kesalahan saat mengimport data",variant:"destructive"})}finally{h(!1)}},we=n.useCallback(o=>{g(1),v===o?M(j=>j==="asc"?"desc":"asc"):(D(o),M("asc"))},[v]),ye=n.useMemo(()=>o=>v!==o?e.jsx(Yt,{className:"w-4 h-4 ml-1 opacity-50"}):y==="asc"?e.jsx(qt,{className:"w-4 h-4 ml-1"}):e.jsx(Xt,{className:"w-4 h-4 ml-1"}),[v,y]),[We,Ja]=n.useState({}),Kt=o=>{Ja(j=>({...j,[o]:!j[o]}))},zt=(o,j)=>{const _=[];_.push(1),o-2>2&&_.push("...");for(let $=Math.max(2,o-2);$<=Math.min(j-1,o+2);$++)_.push($);return o+2<j-1&&_.push("..."),j>1&&_.push(j),_},Ye=o=>{L===o?z(oe==="asc"?"desc":"asc"):(re(o),z("asc")),U(1)},qe=o=>L!==o?e.jsx(Yt,{className:"w-4 h-4 ml-1 opacity-50"}):oe==="asc"?e.jsx(qt,{className:"w-4 h-4 ml-1"}):e.jsx(Xt,{className:"w-4 h-4 ml-1"}),Za=o=>{let j=o;return K&&(j=o.filter(_=>_.description.toLowerCase().includes(K.toLowerCase())||_.last_user_input.toLowerCase().includes(K.toLowerCase())||ce(_.harga_satuan).toLowerCase().includes(K.toLowerCase()))),L&&(j=[...j].sort((_,Z)=>{let $=_[L],I=Z[L];return L==="harga_satuan"&&($=Number($),I=Number(I)),(L==="tanggal"||L==="createdAt")&&($=new Date($).getTime(),I=new Date(I).getTime()),oe==="asc"?$<I?-1:$>I?1:0:$>I?-1:$<I?1:0})),j},Ne=o=>{const j=Za(o),_=(te-1)*N,Z=_+N;return{items:j.slice(_,Z),totalItems:j.length,totalPages:Math.ceil(j.length/N)}},Qa=o=>{try{const j=o.history_licenses.map((I,De)=>({No:De+1,"Nama Lisensi":o.name,"Harga Satuan":I.harga_satuan,"Berlaku Sejak":W(I.tanggal),Deskripsi:I.description,"Terakhir Input Oleh":I.last_user_input,"Dibuat Pada":W(I.createdAt)})),_=fe.book_new(),Z=fe.json_to_sheet(j);fe.book_append_sheet(_,Z,"Riwayat Harga");const $=new Date().toISOString().split("T")[0];Zt(_,`Riwayat Harga Lisensi_${o.name}_${$}.xlsx`),E({title:"Berhasil",description:"History berhasil diekspor ke Excel",variant:"success"})}catch{E({title:"Error",description:"Gagal mengekspor history ke Excel",variant:"destructive"})}},en=()=>{G(""),re(""),z("asc"),U(1),V(5)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground",children:"Daftar Lisensi Aset"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs(k,{onClick:()=>a("/add"),className:"flex items-center justify-center gap-2 w-full sm:w-auto",variant:"success",children:[e.jsx(Pt,{className:"w-4 h-4"}),"Tambah Lisensi"]}),e.jsxs(k,{onClick:()=>a("/prices"),variant:"warning",className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(Fn,{className:"w-4 h-4"}),"Harga Lisensi"]}),e.jsxs(cs,{children:[e.jsx(ds,{asChild:!0,children:e.jsxs(k,{variant:"default",className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(ts,{className:"w-4 h-4"}),"Excel",e.jsx(ut,{className:"w-4 h-4"})]})}),e.jsxs(Tt,{children:[e.jsxs(Te,{onClick:Va,children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"Import Data"]}),e.jsxs(Te,{onClick:ie,children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[e.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(je,{placeholder:"Cari lisensi...",value:s,onChange:o=>r(o.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground whitespace-nowrap",children:["Total Data: ",A," - Tampilkan:"]}),e.jsxs(Je,{value:b,onValueChange:C,children:[e.jsx(Ze,{className:"w-full sm:w-24",children:e.jsx(Qe,{})}),e.jsxs(et,{children:[e.jsx(Q,{value:"10",children:"10"}),e.jsx(Q,{value:"25",children:"25"}),e.jsx(Q,{value:"50",children:"50"}),e.jsx(Q,{value:"100",children:"100"})]})]})]})]}),e.jsx(ge,{open:w,onOpenChange:x,children:e.jsxs(ve,{children:[e.jsxs(be,{children:[e.jsx(ke,{children:"Import Data Lisensi"}),e.jsx(Ce,{children:"Upload file Excel untuk mengimport data lisensi baru"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{children:"Template Excel"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Gunakan template yang telah disediakan untuk mengimport data"}),e.jsxs(k,{variant:"secondary",size:"sm",onClick:Wa,className:"w-full",children:[e.jsx(mt,{className:"w-4 h-4 mr-2"}),"Download Template"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{children:"Upload File"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pilih file Excel yang akan diimport"}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(je,{type:"file",accept:".xlsx",onChange:ze,disabled:f}),e.jsx(k,{onClick:Xa,disabled:!u||f,className:"w-full",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"w-4 h-4 mr-2 animate-spin"}),"Mengupload..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ns,{className:"w-4 h-4 mr-2"}),"Upload"]})})]})]})]})]})}),e.jsx(ge,{open:Ya,onOpenChange:Ve,children:e.jsxs(ve,{children:[e.jsxs(be,{children:[e.jsx(ke,{children:"Konfirmasi Hapus"}),e.jsx(Ce,{children:"Konfirmasi penghapusan data lisensi yang dipilih"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{children:['Apakah Anda yakin ingin menghapus lisensi "',Y==null?void 0:Y.name,'"?']}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(k,{variant:"default",onClick:()=>Ve(!1),children:"Batal"}),e.jsx(k,{variant:"destructive",onClick:qa,children:"Hapus"})]})]})}),e.jsx(ge,{open:Ut,onOpenChange:Pe,children:e.jsxs(ve,{className:"max-w-[95vw] w-full sm:max-w-4xl max-h-[90vh] flex flex-col p-4 sm:p-6",children:[e.jsx(ge,{open:Ut,onOpenChange:o=>{Pe(o),o||en()},children:e.jsxs(ve,{className:"w-full max-w-full sm:max-w-4xl",children:[e.jsxs(be,{children:[e.jsxs(ke,{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5"}),"Riwayat Harga Lisensi"]}),e.jsx(Ce,{className:"text-left",children:"Detail riwayat harga lisensi"})]}),Y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 flex-wrap w-full",children:[e.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(je,{placeholder:"Cari...",value:K,onChange:o=>G(o.target.value),className:"pl-10 w-full"})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Tampilkan:"}),e.jsxs(Je,{value:N.toString(),onValueChange:o=>V(Number(o)),children:[e.jsx(Ze,{className:"w-full sm:w-24",children:e.jsx(Qe,{})}),e.jsxs(et,{children:[e.jsx(Q,{value:"5",children:"5"}),e.jsx(Q,{value:"10",children:"10"}),e.jsx(Q,{value:"20",children:"20"})]})]})]})]}),e.jsx("div",{className:"hidden sm:block border rounded-lg overflow-x-auto",children:e.jsxs(vt,{className:"w-full min-w-[700px] text-sm",children:[e.jsx(jt,{children:e.jsxs(ae,{className:"bg-muted/50 border-b",children:[e.jsx(O,{className:"w-12 text-center",children:"No"}),e.jsx(O,{onClick:()=>Ye("harga_satuan"),className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:["Harga Satuan",qe("harga_satuan")]})}),e.jsx(O,{onClick:()=>Ye("tanggal"),className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:["Berlaku Sejak",qe("tanggal")]})}),e.jsx(O,{children:"Deskripsi"}),e.jsx(O,{onClick:()=>Ye("last_user_input"),className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:["User",qe("last_user_input")]})}),e.jsx(O,{onClick:()=>Ye("createdAt"),className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:["Dibuat Pada",qe("createdAt")]})})]})}),e.jsxs(wt,{children:[Ne(Y.history_licenses).items.map((o,j)=>e.jsxs(ae,{children:[e.jsx(R,{className:"text-center",children:(te-1)*N+j+1}),e.jsx(R,{children:ce(o.harga_satuan)}),e.jsx(R,{children:W(o.tanggal)}),e.jsx(R,{className:"whitespace-pre-wrap break-words max-w-[200px]",children:o.description}),e.jsx(R,{children:o.last_user_input}),e.jsx(R,{children:W(o.createdAt)})]},o.id)),Ne(Y.history_licenses).items.length===0&&e.jsx(ae,{children:e.jsx(R,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Tidak ada data riwayat"})})]})]})}),e.jsx("div",{className:"block sm:hidden space-y-3",children:Ne(Y.history_licenses).items.length>0?Ne(Y.history_licenses).items.map((o,j)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[e.jsxs("span",{children:["No: ",(te-1)*N+j+1]}),e.jsx("span",{children:W(o.tanggal)})]}),e.jsx("div",{className:"font-medium text-sm",children:ce(o.harga_satuan)}),e.jsx("div",{className:"text-xs text-slate-400 whitespace-pre-wrap break-words mb-2",children:o.description}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["User: ",o.last_user_input]}),e.jsxs("span",{children:["Dibuat: ",W(o.createdAt)]})]})]},o.id)):e.jsx("div",{className:"text-center py-6 text-muted-foreground text-sm",children:"Tidak ada data riwayat"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 mt-4 w-full",children:[e.jsxs("div",{className:"flex items-center gap-1 flex-wrap justify-center sm:justify-start w-full sm:w-auto",children:[e.jsx(k,{variant:"outline",size:"sm",onClick:()=>U(o=>Math.max(1,o-1)),disabled:te===1,children:e.jsx(es,{className:"w-4 h-4"})}),zt(te,Ne(Y.history_licenses).totalPages).map((o,j)=>e.jsx(k,{variant:te===o?"default":"outline",size:"sm",onClick:()=>typeof o=="number"&&U(o),disabled:o==="...",children:o},j)),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>U(o=>Math.min(Ne(Y.history_licenses).totalPages,o+1)),disabled:te===Ne(Y.history_licenses).totalPages,children:e.jsx(Ae,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full sm:w-auto",children:[e.jsxs(k,{variant:"success",onClick:()=>Y&&Qa(Y),className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx(mt,{className:"w-4 h-4"}),"Export"]}),e.jsx(k,{variant:"destructive",onClick:()=>Pe(!1),className:"w-full sm:w-auto",children:"Tutup"})]})]})]})]})}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(k,{variant:"destructive",onClick:()=>Pe(!1),children:"Batal"})})]})}),e.jsx("div",{className:"hidden sm:block border rounded-lg overflow-x-auto",children:e.jsxs(vt,{className:"[&_tr>*]:border-r [&_tr>*:last-child]:border-r-0 [&_tr]:border-b [&_tr:last-child]:border-b-0",children:[e.jsx(jt,{children:e.jsxs(ae,{className:"bg-muted/50 border-b",children:[e.jsx(O,{className:"w-[120px] text-center whitespace-nowrap",children:"Aksi"}),e.jsx(O,{className:"w-[200px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("name"),children:e.jsxs("div",{className:"flex items-center",children:["Nama Aset",ye("name")]})}),e.jsx(O,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("start_date"),children:e.jsxs("div",{className:"flex items-center",children:["Tanggal Mulai",ye("start_date")]})}),e.jsx(O,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("end_date"),children:e.jsxs("div",{className:"flex items-center",children:["Tanggal Berakhir",ye("end_date")]})}),e.jsx(O,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("end_date"),children:e.jsxs("div",{className:"flex items-center",children:["Status",ye("end_date")]})}),e.jsx(O,{className:"w-[80px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("volume"),children:e.jsxs("div",{className:"flex items-center",children:["Volume",ye("volume")]})}),e.jsx(O,{className:"w-[100px] whitespace-nowrap",children:"Satuan"}),e.jsx(O,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("harga_satuan"),children:e.jsxs("div",{className:"flex items-center",children:["Harga Satuan",ye("harga_satuan")]})}),e.jsx(O,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>we("jumlah"),children:e.jsxs("div",{className:"flex items-center",children:["Total Harga",ye("jumlah")]})})]})}),e.jsx(wt,{className:"[&_tr:last-child]:border-b-0",children:m?e.jsx(ae,{children:e.jsx(R,{colSpan:9,className:"text-center py-8",children:"Memuat data..."})}):i.length===0?e.jsx(ae,{children:e.jsx(R,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data lisensi yang ditemukan"})}):i.map((o,j)=>(le(o.status_lisensi),e.jsxs(gn.Fragment,{children:[e.jsxs(ae,{className:"hover:bg-muted/30",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(k,{variant:"success",size:"sm",onClick:()=>Kt(j),children:We[j]?e.jsx(ut,{className:"w-4 h-4"}):e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(k,{variant:"default",size:"sm",onClick:()=>Me("History",o),children:e.jsx(pt,{className:"w-4 h-4"})}),e.jsx(k,{variant:"warning",size:"sm",onClick:()=>Me("Edit",o),children:e.jsx(tt,{className:"w-4 h-4"})}),e.jsx(k,{variant:"destructive",size:"sm",onClick:()=>Me("Delete",o),children:e.jsx(Fe,{className:"w-4 h-4"})})]})}),e.jsx(R,{className:"font-medium",children:o.name}),e.jsx(R,{className:"whitespace-nowrap",children:W(o.start_date)}),e.jsx(R,{className:"whitespace-nowrap",children:W(o.end_date)}),e.jsx(R,{className:"whitespace-nowrap",children:(()=>{const _=le(o.status_lisensi),Z=_.icon;return e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${_.color}`,children:[e.jsx(Z,{className:"w-4 h-4 mr-1"}),_.text]})})()}),e.jsx(R,{className:"text-right",children:o.volume}),e.jsx(R,{children:o.satuan}),e.jsx(R,{className:"text-right whitespace-nowrap",children:ce(o.harga_satuan)}),e.jsx(R,{className:"text-right whitespace-nowrap",children:ce(o.jumlah)})]}),We[j]&&e.jsx(ae,{className:"bg-muted/5",children:e.jsx(R,{colSpan:9,className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Informasi Akses"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Username:"})," ",o.username]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Password:"}),e.jsx("span",{className:"font-mono",children:xe[j]?o.password:"".repeat(8)}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>pe(j),className:"h-6 w-6 p-0",children:xe[j]?e.jsx(ss,{className:"h-4 w-4"}):e.jsx(as,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Lokasi:"})," ",o.lokasi_lisensi]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Informasi Tambahan"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Catatan:"}),e.jsx("p",{className:"mt-1",children:o.description})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"User:"})," ",o.last_user_input]})]})]})]})})})]},o.uuid)))})]})}),e.jsx("div",{className:"block sm:hidden space-y-3",children:m?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat data..."}):i.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada data lisensi yang ditemukan"}):i.map((o,j)=>{const _=le(o.status_lisensi),Z=_.icon;return e.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${_.color}`,children:[e.jsx(Z,{className:"w-4 h-4 mr-1"}),_.text]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"success",size:"sm",onClick:()=>Kt(j),children:We[j]?e.jsx(ut,{className:"w-4 h-4"}):e.jsx(Ae,{className:"w-4 h-4"})}),e.jsxs(cs,{children:[e.jsx(ds,{asChild:!0,children:e.jsx(k,{variant:"default",size:"sm",children:e.jsx(ts,{className:"w-4 h-4"})})}),e.jsxs(Tt,{children:[e.jsxs(Te,{onClick:()=>Me("History",o),children:[e.jsx(pt,{className:"w-4 h-4 mr-2"}),"Riwayat"]}),e.jsxs(Te,{onClick:()=>Me("Edit",o),children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(Te,{onClick:()=>Me("Delete",o),children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Hapus"]})]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Nama Lisensi:"}),e.jsx("span",{children:o.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tanggal Mulai:"}),e.jsx("span",{children:W(o.start_date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tanggal Berakhir:"}),e.jsx("span",{children:W(o.end_date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Volume x Harga Satuan:"}),e.jsxs("span",{children:[o.volume," ",o.satuan," x ",ce(o.harga_satuan)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Harga:"}),e.jsx("span",{children:ce(o.jumlah)})]})]}),We[j]&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Username:"})," ",o.username]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Password:"}),e.jsx("span",{className:"font-mono",children:xe[j]?o.password:"".repeat(8)}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>pe(j),className:"hidden sm:inline-flex",children:xe[j]?e.jsx(ss,{className:"h-4 w-4"}):e.jsx(as,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Lokasi:"})," ",o.lokasi_lisensi]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Catatan:"}),e.jsx("p",{className:"mt-1 text-muted-foreground",children:o.description})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"User:"})," ",o.last_user_input]})]})})]},o.uuid)})}),!m&&i.length>0&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[e.jsx(k,{variant:"outline",size:"sm",onClick:()=>g(o=>Math.max(1,o-1)),disabled:l===1,children:e.jsx(es,{className:"w-4 h-4"})}),zt(l,P).map((o,j)=>e.jsx(k,{variant:l===o?"default":"outline",size:"sm",onClick:()=>typeof o=="number"&&g(o),disabled:o==="...",children:o},j)),e.jsx(k,{variant:"outline",size:"sm",onClick:()=>g(o=>Math.min(P,o+1)),disabled:l===P,children:e.jsx(Ae,{className:"w-4 h-4"})})]})]})},ti=({onLogout:t})=>{const a=n.useRef(null),s=()=>{var r;(r=a.current)==null||r.refreshData()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(dr,{onLogout:t}),e.jsx("main",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:"Dashboard Monitoring Lisensi"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Pantau status dan kelola lisensi aset"})]}),e.jsx(mr,{ref:a}),e.jsx(Go,{onDataChange:s})]})})]})};export{ti as default};
