import{e as B,f as Re,r,g as q,h as Xe,a as e,P as U,i as C,k as hn,l as I,m as Ce,D as Yt,n as xn,o as qt,p as Xt,X as gn,q as vn,t as wn,u as Ge,v as G,j as jn,C as Jt,w as yn,x as Zt,y as Qt,z as jt,B as ea,E as bn,F as Nn,G as Cn,H as ta,I as _n,R as kn,J as Dn,K as Sn,L as En}from"./index-Vf185HKv.js";import{b as aa,B as _}from"./button-C7F7qFGD.js";import{u as Mn,S as nt,a as rt,b as ot,c as it,d as oe,T as sa,e as na,f as me,g as Y,h as ra,i as O,j as oa,C as Rn,k as $t,D as Lt,l as Tn,L as In,m as Oe,w as An,A as Pn,n as On,o as Fn}from"./xlsx-D9AaopaB.js";import{R as ia,h as ca,u as la,F as da,a as Se,C as ct,b as $n}from"./index-JKbUZjKd.js";import{I as ve}from"./input-BVPp-lfb.js";import{L as ie}from"./label-B2dlyaRt.js";import{C as at,a as Gt,c as Bt,d as Ln}from"./card-DmbSo_dv.js";import{T as Gn}from"./triangle-alert-BZ2C53Rp.js";import{C as Bn}from"./circle-check-BMdYxOga.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=B("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=B("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=B("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=B("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=B("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=B("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var Je="Switch",[Zn,vi]=Re(Je),[Qn,er]=Zn(Je),ma=r.forwardRef((t,a)=>{const{__scopeSwitch:s,name:n,checked:o,defaultChecked:i,required:c,disabled:u,value:h="on",onCheckedChange:p,form:l,...d}=t,[x,m]=r.useState(null),g=q(a,E=>m(E)),j=r.useRef(!1),b=x?l||!!x.closest("form"):!0,[R,P]=Xe({prop:o,defaultProp:i??!1,onChange:p,caller:Je});return e.jsxs(Qn,{scope:s,checked:R,disabled:u,children:[e.jsx(U.button,{type:"button",role:"switch","aria-checked":R,"aria-required":c,"data-state":xa(R),"data-disabled":u?"":void 0,disabled:u,value:h,...d,ref:g,onClick:C(t.onClick,E=>{P(D=>!D),b&&(j.current=E.isPropagationStopped(),j.current||E.stopPropagation())})}),b&&e.jsx(ha,{control:x,bubbles:!j.current,name:n,value:h,checked:R,required:c,disabled:u,form:l,style:{transform:"translateX(-100%)"}})]})});ma.displayName=Je;var pa="SwitchThumb",fa=r.forwardRef((t,a)=>{const{__scopeSwitch:s,...n}=t,o=er(pa,s);return e.jsx(U.span,{"data-state":xa(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:a})});fa.displayName=pa;var tr="SwitchBubbleInput",ha=r.forwardRef(({__scopeSwitch:t,control:a,checked:s,bubbles:n=!0,...o},i)=>{const c=r.useRef(null),u=q(c,i),h=Mn(s),p=hn(a);return r.useEffect(()=>{const l=c.current;if(!l)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(h!==s&&m){const g=new Event("click",{bubbles:n});m.call(l,s),l.dispatchEvent(g)}},[h,s,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ha.displayName=tr;function xa(t){return t?"checked":"unchecked"}var ga=ma,ar=fa;const va=r.forwardRef(({className:t,...a},s)=>e.jsx(ga,{className:I("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:e.jsx(ar,{className:I("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));va.displayName=ga.displayName;var Ze="Dialog",[wa,ja]=Re(Ze),[sr,ae]=wa(Ze),ya=t=>{const{__scopeDialog:a,children:s,open:n,defaultOpen:o,onOpenChange:i,modal:c=!0}=t,u=r.useRef(null),h=r.useRef(null),[p,l]=Xe({prop:n,defaultProp:o??!1,onChange:i,caller:Ze});return e.jsx(sr,{scope:a,triggerRef:u,contentRef:h,contentId:Se(),titleId:Se(),descriptionId:Se(),open:p,onOpenChange:l,onOpenToggle:r.useCallback(()=>l(d=>!d),[l]),modal:c,children:s})};ya.displayName=Ze;var ba="DialogTrigger",Na=r.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,o=ae(ba,s),i=q(a,o.triggerRef);return e.jsx(U.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ct(o.open),...n,ref:i,onClick:C(t.onClick,o.onOpenToggle)})});Na.displayName=ba;var bt="DialogPortal",[nr,Ca]=wa(bt,{forceMount:void 0}),_a=t=>{const{__scopeDialog:a,forceMount:s,children:n,container:o}=t,i=ae(bt,a);return e.jsx(nr,{scope:a,forceMount:s,children:r.Children.map(n,c=>e.jsx(Ce,{present:s||i.open,children:e.jsx(qt,{asChild:!0,container:o,children:c})}))})};_a.displayName=bt;var We="DialogOverlay",ka=r.forwardRef((t,a)=>{const s=Ca(We,t.__scopeDialog),{forceMount:n=s.forceMount,...o}=t,i=ae(We,t.__scopeDialog);return i.modal?e.jsx(Ce,{present:n||i.open,children:e.jsx(or,{...o,ref:a})}):null});ka.displayName=We;var rr=Xt("DialogOverlay.RemoveScroll"),or=r.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,o=ae(We,s);return e.jsx(ia,{as:rr,allowPinchZoom:!0,shards:[o.contentRef],children:e.jsx(U.div,{"data-state":Ct(o.open),...n,ref:a,style:{pointerEvents:"auto",...n.style}})})}),Ne="DialogContent",Da=r.forwardRef((t,a)=>{const s=Ca(Ne,t.__scopeDialog),{forceMount:n=s.forceMount,...o}=t,i=ae(Ne,t.__scopeDialog);return e.jsx(Ce,{present:n||i.open,children:i.modal?e.jsx(ir,{...o,ref:a}):e.jsx(cr,{...o,ref:a})})});Da.displayName=Ne;var ir=r.forwardRef((t,a)=>{const s=ae(Ne,t.__scopeDialog),n=r.useRef(null),o=q(a,s.contentRef,n);return r.useEffect(()=>{const i=n.current;if(i)return ca(i)},[]),e.jsx(Sa,{...t,ref:o,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:C(t.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:C(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:C(t.onFocusOutside,i=>i.preventDefault())})}),cr=r.forwardRef((t,a)=>{const s=ae(Ne,t.__scopeDialog),n=r.useRef(!1),o=r.useRef(!1);return e.jsx(Sa,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,i),i.defaultPrevented||(n.current||(u=s.triggerRef.current)==null||u.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=i.target;((p=s.triggerRef.current)==null?void 0:p.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Sa=r.forwardRef((t,a)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...c}=t,u=ae(Ne,s),h=r.useRef(null),p=q(a,h);return la(),e.jsxs(e.Fragment,{children:[e.jsx(da,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:e.jsx(Yt,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Ct(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(dr,{titleId:u.titleId}),e.jsx(mr,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Nt="DialogTitle",Ea=r.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,o=ae(Nt,s);return e.jsx(U.h2,{id:o.titleId,...n,ref:a})});Ea.displayName=Nt;var Ma="DialogDescription",Ra=r.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,o=ae(Ma,s);return e.jsx(U.p,{id:o.descriptionId,...n,ref:a})});Ra.displayName=Ma;var Ta="DialogClose",Ia=r.forwardRef((t,a)=>{const{__scopeDialog:s,...n}=t,o=ae(Ta,s);return e.jsx(U.button,{type:"button",...n,ref:a,onClick:C(t.onClick,()=>o.onOpenChange(!1))})});Ia.displayName=Ta;function Ct(t){return t?"open":"closed"}var Aa="DialogTitleWarning",[lr,Pa]=xn(Aa,{contentName:Ne,titleName:Nt,docsSlug:"dialog"}),dr=({titleId:t})=>{const a=Pa(Aa),s=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return r.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},ur="DialogDescriptionWarning",mr=({contentRef:t,descriptionId:a})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pa(ur).contentName}}.`;return r.useEffect(()=>{var i;const o=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");a&&o&&(document.getElementById(a)||console.warn(n))},[n,t,a]),null},Oa=ya,Fa=Na,$a=_a,_t=ka,kt=Da,Dt=Ea,St=Ra,Et=Ia;const Ee=Oa,Kt=Fa,pr=$a,La=r.forwardRef(({className:t,...a},s)=>e.jsx(_t,{ref:s,className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));La.displayName=_t.displayName;const we=r.forwardRef(({className:t,children:a,...s},n)=>e.jsxs(pr,{children:[e.jsx(La,{}),e.jsxs(kt,{ref:n,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[a,e.jsxs(Et,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(gn,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));we.displayName=kt.displayName;const je=({className:t,...a})=>e.jsx("div",{className:I("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});je.displayName="DialogHeader";const ye=r.forwardRef(({className:t,...a},s)=>e.jsx(Dt,{ref:s,className:I("text-lg font-semibold leading-none tracking-tight",t),...a}));ye.displayName=Dt.displayName;const be=r.forwardRef(({className:t,...a},s)=>e.jsx(St,{ref:s,className:I("text-sm text-muted-foreground",t),...a}));be.displayName=St.displayName;const fr=vn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zt({className:t,variant:a,...s}){return e.jsx("div",{className:I(fr({variant:a}),t),...s})}var Ga="AlertDialog",[hr,wi]=Re(Ga,[ja]),pe=ja(),Ba=t=>{const{__scopeAlertDialog:a,...s}=t,n=pe(a);return e.jsx(Oa,{...n,...s,modal:!0})};Ba.displayName=Ga;var xr="AlertDialogTrigger",Ua=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...n}=t,o=pe(s);return e.jsx(Fa,{...o,...n,ref:a})});Ua.displayName=xr;var gr="AlertDialogPortal",Ka=t=>{const{__scopeAlertDialog:a,...s}=t,n=pe(a);return e.jsx($a,{...n,...s})};Ka.displayName=gr;var vr="AlertDialogOverlay",za=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...n}=t,o=pe(s);return e.jsx(_t,{...o,...n,ref:a})});za.displayName=vr;var Me="AlertDialogContent",[wr,jr]=hr(Me),yr=wn("AlertDialogContent"),Ha=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,children:n,...o}=t,i=pe(s),c=r.useRef(null),u=q(a,c),h=r.useRef(null);return e.jsx(lr,{contentName:Me,titleName:Va,docsSlug:"alert-dialog",children:e.jsx(wr,{scope:s,cancelRef:h,children:e.jsxs(kt,{role:"alertdialog",...i,...o,ref:u,onOpenAutoFocus:C(o.onOpenAutoFocus,p=>{var l;p.preventDefault(),(l=h.current)==null||l.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[e.jsx(yr,{children:n}),e.jsx(Nr,{contentRef:c})]})})})});Ha.displayName=Me;var Va="AlertDialogTitle",Wa=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...n}=t,o=pe(s);return e.jsx(Dt,{...o,...n,ref:a})});Wa.displayName=Va;var Ya="AlertDialogDescription",qa=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...n}=t,o=pe(s);return e.jsx(St,{...o,...n,ref:a})});qa.displayName=Ya;var br="AlertDialogAction",Xa=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...n}=t,o=pe(s);return e.jsx(Et,{...o,...n,ref:a})});Xa.displayName=br;var Ja="AlertDialogCancel",Za=r.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...n}=t,{cancelRef:o}=jr(Ja,s),i=pe(s),c=q(a,o);return e.jsx(Et,{...i,...n,ref:c})});Za.displayName=Ja;var Nr=({contentRef:t})=>{const a=`\`${Me}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Me}\` by passing a \`${Ya}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Me}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},Cr=Ba,_r=Ua,kr=Ka,Qa=za,es=Ha,ts=Xa,as=Za,ss=Wa,ns=qa;const Ht=Cr,Vt=_r,Dr=kr,rs=r.forwardRef(({className:t,...a},s)=>e.jsx(Qa,{className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));rs.displayName=Qa.displayName;const dt=r.forwardRef(({className:t,...a},s)=>e.jsxs(Dr,{children:[e.jsx(rs,{}),e.jsx(es,{ref:s,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));dt.displayName=es.displayName;const ut=({className:t,...a})=>e.jsx("div",{className:I("flex flex-col space-y-2 text-center sm:text-left",t),...a});ut.displayName="AlertDialogHeader";const mt=({className:t,...a})=>e.jsx("div",{className:I("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});mt.displayName="AlertDialogFooter";const pt=r.forwardRef(({className:t,...a},s)=>e.jsx(ss,{ref:s,className:I("text-lg font-semibold",t),...a}));pt.displayName=ss.displayName;const ft=r.forwardRef(({className:t,...a},s)=>e.jsx(ns,{ref:s,className:I("text-sm text-muted-foreground",t),...a}));ft.displayName=ns.displayName;const ht=r.forwardRef(({className:t,...a},s)=>e.jsx(ts,{ref:s,className:I(aa({variant:"destructive"}),t),...a}));ht.displayName=ts.displayName;const xt=r.forwardRef(({className:t,...a},s)=>e.jsx(as,{ref:s,className:I(aa({variant:"default"}),"mt-2 sm:mt-0",t),...a}));xt.displayName=as.displayName;const Sr=({children:t})=>{const[a,s]=r.useState(!1),[n,o]=r.useState(!1),[i,c]=r.useState(!1),[u,h]=r.useState([]),[p,l]=r.useState(!1),[d,x]=r.useState(null),[m,g]=r.useState({name:"",email:"",email_type:"to"}),{toast:j}=Ge(),b=async()=>{try{l(!0);const k=await(await G("https://digio.pgn.co.id/lisa_backend/email/get",{method:"GET",headers:{"Content-Type":"application/json"}})).json();k.status===200?(h(k.data),(!k.data||k.data.length===0)&&j({title:"Info",description:"Tidak ada penerima email ditemukan",variant:"warning"})):k.status===404?(h([]),j({title:"Info",description:"Belum ada data penerima email",variant:"warning"})):(h([]),j({title:"Error",description:k.data||"Gagal memuat data penerima email",variant:"destructive"}))}catch(v){j({title:"Error",description:"Gagal memuat data penerima email: "+(v instanceof Error?v.message:"Unknown error"),variant:"destructive"})}finally{l(!1)}};r.useEffect(()=>{a&&b()},[a]);const R=async()=>{if(!m.name||!m.email||!m.email_type){j({title:"Error",description:"Semua field harus diisi",variant:"destructive"});return}try{const k=await(await G("https://digio.pgn.co.id/lisa_backend/email/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();k.status===201?(j({title:"Berhasil",description:"Penerima email berhasil ditambahkan",variant:"success"}),g({name:"",email:"",email_type:"to"}),o(!1),b()):j({title:"Error",description:k.data||"Gagal menambahkan penerima email",variant:"destructive"})}catch{j({title:"Error",description:"Terjadi kesalahan saat menambahkan penerima email",variant:"destructive"})}},P=async()=>{if(!d||!m.name||!m.email||!m.email_type){j({title:"Error",description:"Semua field harus diisi",variant:"destructive"});return}try{const k=await(await G("https://digio.pgn.co.id/lisa_backend/email/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:d.uuid,...m})})).json();k.status===200?(j({title:"Berhasil",description:"Penerima email berhasil diperbarui",variant:"success"}),g({name:"",email:"",email_type:"to"}),x(null),c(!1),b()):j({title:"Error",description:k.data||"Gagal memperbarui penerima email",variant:"destructive"})}catch(v){console.error("Error updating email recipient:",v),j({title:"Error",description:"Terjadi kesalahan saat memperbarui penerima email",variant:"destructive"})}},E=async v=>{try{const k=await G("https://digio.pgn.co.id/lisa_backend/email/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:v})});if(k.status===204)j({title:"Berhasil",description:"Penerima email berhasil dihapus",variant:"success"}),b();else{let w="Gagal menghapus penerima email";try{w=(await k.json()).data||w}catch{}j({title:"Error",description:w,variant:"destructive"})}}catch(k){console.error("Error deleting email recipient:",k),j({title:"Error",description:"Terjadi kesalahan saat menghapus penerima email",variant:"destructive"})}},D=v=>{x(v),g({name:v.name,email:v.email,email_type:v.email_type}),c(!0)},V=v=>{switch(v){case"to":return"bg-success text-primary-foreground";case"cc":return"bg-warning text-secondary-foreground";case"bcc":return"bg-primary text-muted-foreground";default:return"bg-muted text-muted-foreground"}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ee,{open:a,onOpenChange:s,children:[e.jsx(Kt,{asChild:!0,children:t}),e.jsxs(we,{className:"max-w-[95vw] w-full sm:max-w-4xl max-h-[90vh] flex flex-col p-4 sm:p-6",children:[e.jsxs(je,{className:"shrink-0",children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(ua,{className:"w-5 h-5"}),"Kelola Penerima Email"]}),e.jsx(be,{className:"text-left",children:"Kelola daftar penerima email untuk notifikasi sistem"})]}),e.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto min-h-0",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(Ee,{open:n,onOpenChange:o,children:[e.jsx(Kt,{asChild:!0,children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{className:"sm:hidden",children:"Tambah"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Penerima"})]})}),e.jsxs(we,{className:"max-w-[95vw] w-full sm:max-w-md max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[e.jsxs(je,{children:[e.jsx(ye,{children:"Tambah Penerima Email"}),e.jsx(be,{className:"text-left",children:"Tambahkan penerima email baru untuk notifikasi"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{htmlFor:"name",children:"Nama"}),e.jsx(ve,{id:"name",value:m.name,onChange:v=>g({...m,name:v.target.value}),placeholder:"Masukkan nama penerima"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{htmlFor:"email",children:"Email"}),e.jsx(ve,{id:"email",type:"email",value:m.email,onChange:v=>g({...m,email:v.target.value}),placeholder:"Masukkan alamat email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{htmlFor:"email_type",children:"Tipe Email"}),e.jsxs(nt,{value:m.email_type,onValueChange:v=>g({...m,email_type:v}),children:[e.jsx(rt,{children:e.jsx(ot,{placeholder:"Pilih tipe email"})}),e.jsxs(it,{children:[e.jsx(oe,{value:"to",children:"To (Penerima Utama)"}),e.jsx(oe,{value:"cc",children:"CC (Carbon Copy)"}),e.jsx(oe,{value:"bcc",children:"BCC (Blind Carbon Copy)"})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2",children:[e.jsx(_,{variant:"destructive",onClick:()=>o(!1),className:"w-full sm:w-auto",children:"Batal"}),e.jsx(_,{variant:"default",onClick:R,className:"w-full sm:w-auto",children:"Tambah"})]})]})]})]})}),e.jsx("div",{className:"hidden md:block overflow-y-auto max-h-[50vh]",children:e.jsx("div",{className:"border rounded-lg",children:e.jsxs(sa,{children:[e.jsx(na,{children:e.jsxs(me,{className:"border-b",children:[e.jsx(Y,{className:"font-semibold",children:"Nama"}),e.jsx(Y,{className:"font-semibold",children:"Email"}),e.jsx(Y,{className:"font-semibold",children:"Tipe"}),e.jsx(Y,{className:"text-right font-semibold",children:"Aksi"})]})}),e.jsx(ra,{children:p?e.jsx(me,{children:e.jsx(O,{colSpan:4,className:"text-center py-8",children:"Memuat data..."})}):u.length===0?e.jsx(me,{children:e.jsx(O,{colSpan:4,className:"text-center py-8",children:"Belum ada penerima email"})}):u.map(v=>e.jsxs(me,{className:"border-b last:border-b-0",children:[e.jsx(O,{className:"font-medium",children:v.name}),e.jsx(O,{children:v.email}),e.jsx(O,{children:e.jsx(zt,{className:V(v.email_type),children:v.email_type.toUpperCase()})}),e.jsx(O,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(_,{variant:"default",size:"sm",onClick:()=>D(v),children:e.jsx(lt,{className:"w-4 h-4"})}),e.jsxs(Ht,{children:[e.jsx(Vt,{asChild:!0,children:e.jsx(_,{variant:"destructive",size:"sm",children:e.jsx(Ve,{className:"w-4 h-4"})})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(pt,{className:"text-center",children:"Hapus Penerima Email"}),e.jsxs(ft,{className:"text-center",children:['Apakah Anda yakin ingin menghapus penerima email "',v.name,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ht,{onClick:()=>E(v.uuid),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus"})]})]})]})]})})]},v.uuid))})]})})}),e.jsx("div",{className:"md:hidden space-y-3 overflow-y-auto max-h-[50vh]",children:p?e.jsx("div",{className:"text-center py-8",children:"Memuat data..."}):u.length===0?e.jsx("div",{className:"text-center py-8",children:"Belum ada penerima email"}):u.map(v=>e.jsx("div",{className:"border rounded-lg p-4 bg-card",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm",children:v.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate mt-1",children:v.email}),e.jsx(zt,{className:`${V(v.email_type)} mt-2`,children:v.email_type.toUpperCase()})]})}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[e.jsxs(_,{size:"sm",variant:"default",onClick:()=>D(v),className:"flex-1",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(Ht,{children:[e.jsx(Vt,{asChild:!0,children:e.jsxs(_,{size:"sm",variant:"destructive",className:"flex-1",children:[e.jsx(Ve,{className:"w-4 h-4 mr-1"}),"Hapus"]})}),e.jsxs(dt,{children:[e.jsxs(ut,{children:[e.jsx(pt,{children:"Hapus Penerima Email"}),e.jsxs(ft,{className:"text-center",children:['Apakah Anda yakin ingin menghapus penerima email "',v.name,'"? Tindakan ini tidak dapat dibatalkan.']})]}),e.jsxs(mt,{children:[e.jsx(xt,{children:"Batal"}),e.jsx(ht,{onClick:()=>E(v.uuid),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus"})]})]})]})]})]})},v.uuid))})]})]})]}),e.jsx(Ee,{open:i,onOpenChange:c,children:e.jsxs(we,{className:"max-w-[95vw] w-full sm:max-w-md max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[e.jsxs(je,{children:[e.jsx(ye,{children:"Edit Penerima Email"}),e.jsx(be,{children:"Ubah informasi penerima email yang sudah ada"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{htmlFor:"edit-name",children:"Nama"}),e.jsx(ve,{id:"edit-name",value:m.name,onChange:v=>g({...m,name:v.target.value}),placeholder:"Masukkan nama penerima"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{htmlFor:"edit-email",children:"Email"}),e.jsx(ve,{id:"edit-email",type:"email",value:m.email,onChange:v=>g({...m,email:v.target.value}),placeholder:"Masukkan alamat email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{htmlFor:"edit-email_type",children:"Tipe Email"}),e.jsxs(nt,{value:m.email_type,onValueChange:v=>g({...m,email_type:v}),children:[e.jsx(rt,{children:e.jsx(ot,{placeholder:"Pilih tipe email"})}),e.jsxs(it,{children:[e.jsx(oe,{value:"to",children:"To (Penerima Utama)"}),e.jsx(oe,{value:"cc",children:"CC (Carbon Copy)"}),e.jsx(oe,{value:"bcc",children:"BCC (Blind Carbon Copy)"})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2",children:[e.jsx(_,{variant:"destructive",onClick:()=>c(!1),className:"w-full sm:w-auto",children:"Batal"}),e.jsx(_,{variant:"default",onClick:P,className:"w-full sm:w-auto",children:"Simpan"})]})]})]})})]})},Er=({open:t,onOpenChange:a,onSuccess:s})=>{const[n,o]=r.useState(!1),[i,c]=r.useState(null),[u,h]=r.useState(!1),[p,l]=r.useState([]),[d,x]=r.useState(["09:00"]),{toast:m}=Ge(),g=[{value:"1",label:"Senin"},{value:"2",label:"Selasa"},{value:"3",label:"Rabu"},{value:"4",label:"Kamis"},{value:"5",label:"Jumat"},{value:"6",label:"Sabtu"},{value:"0",label:"Minggu"}];r.useEffect(()=>{t&&j()},[t]);const j=async()=>{try{const S=await(await G("https://digio.pgn.co.id/lisa_backend/cron/running")).json();S.status===200&&S.data&&S.data.length>0?(c(S.data[0]),h(!0),b(S.data[0].time_schedule)):(h(!1),l(["1","2","3","4","5"]),x(["09:00","15:00"]))}catch(w){console.error("Error checking existing schedule:",w),h(!1),l(["1","2","3","4","5"]),x(["09:00","15:00"])}},b=w=>{const S=w.split(" ");if(S.length===5){const[A,se,,,F]=S,Q=se.split(",").map(ce=>`${ce.padStart(2,"0")}:${A.padStart(2,"0")}`);if(x(Q),F.includes("-")){const[ce,$]=F.split("-").map(Number),ne=[];for(let X=ce;X<=$;X++)ne.push(X.toString());l(ne)}else F.includes(",")?l(F.split(",")):l([F])}},R=()=>{var F;const w=[...new Set(d.map(z=>z.split(":")[0]))],S=((F=d[0])==null?void 0:F.split(":")[1])||"00",A=w.join(","),se=p.sort((z,Q)=>Number(z)-Number(Q)).join(",");return`${S} ${A} * * ${se}`},P=async()=>{if(p.length===0||d.length===0){m({title:"Error",description:"Pilih minimal satu hari dan satu waktu",variant:"destructive"});return}o(!0);try{const w=R();if((await G("https://digio.pgn.co.id/lisa_backend/cron/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"sendEmail",time_schedule:w,is_running:!0})})).ok)m({title:"Notifikasi berhasil disimpan dan diaktifkan",description:"Notifikasi telah dijadwalkan sesuai pengaturan",variant:"success"}),s(),a(!1);else throw new Error("Failed to save schedule")}catch(w){console.error("Error saving schedule:",w),m({title:"Error",description:"Gagal menyimpan penjadwalan",variant:"destructive"})}finally{o(!1)}},E=async()=>{if(p.length===0||d.length===0){m({title:"Error",description:"Pilih minimal satu hari dan satu waktu",variant:"destructive"});return}o(!0);try{const w=R();if((await G("https://digio.pgn.co.id/lisa_backend/cron/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:i.uuid,time_schedule:w,is_running:!0})})).ok)m({title:"Notifikasi berhasil diperbarui dan diaktifkan",description:"Notifikasi telah dijadwalkan ulang sesuai pengaturan",variant:"success"}),s(),a(!1);else throw new Error("Failed to update schedule")}catch(w){console.error("Error updating schedule:",w),m({title:"Error",description:"Gagal memperbarui penjadwalan",variant:"destructive"})}finally{o(!1)}},D=()=>{x([...d,"09:00"])},V=w=>{d.length>1&&x(d.filter((S,A)=>A!==w))},v=(w,S)=>{const A=[...d];A[w]=S,x(A)},k=w=>{p.includes(w)?l(p.filter(S=>S!==w)):l([...p,w])};return e.jsx(Ee,{open:t,onOpenChange:a,children:e.jsxs(we,{className:"sm:max-w-md",children:[e.jsxs(je,{className:"shrink-0",children:[e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Jn,{className:"w-5 h-5"}),"Pengaturan Penjadwalan Notifikasi"]}),e.jsx(be,{className:"text-left",children:"Atur hari dan waktu untuk pengiriman notifikasi"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ie,{className:"text-sm font-medium",children:"Hari"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:g.map(w=>e.jsx(_,{type:"button",variant:p.includes(w.value)?"default":"outline",size:"sm",onClick:()=>k(w.value),className:"text-xs",children:w.label},w.value))})]}),e.jsxs("div",{children:[e.jsx(ie,{className:"text-sm font-medium",children:"Waktu"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[d.map((w,S)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{type:"time",value:w,onChange:A=>v(S,A.target.value),className:"flex-1"}),d.length>1&&e.jsx(_,{type:"button",variant:"destructive",size:"sm",onClick:()=>V(S),children:e.jsx(Ve,{className:"w-4 h-4"})})]},S)),e.jsxs(_,{type:"button",variant:"warning",size:"sm",onClick:D,className:"w-full",children:[e.jsx(yt,{className:"w-4 h-4"}),"Tambah Waktu"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(_,{variant:"destructive",onClick:()=>a(!1),className:"flex-1",children:"Batal"}),u?e.jsx(_,{onClick:E,disabled:n,className:"flex-1",children:n?"Memperbarui...":"Perbarui & Aktifkan"}):e.jsx(_,{onClick:P,disabled:n,className:"flex-1",children:n?"Menyimpan...":"Simpan & Aktifkan"})]})]})]})})},Mr=({onLogout:t})=>{const[a,s]=r.useState(!1),[n,o]=r.useState(!1),[i,c]=r.useState(!1),{toast:u}=Ge(),{theme:h,setTheme:p}=jn();r.useEffect(()=>{o(window.self!==window.top)},[]),r.useEffect(()=>{l()},[]);const l=async()=>{try{const g=await(await G("https://digio.pgn.co.id/lisa_backend/cron/running")).json();g.status===404&&(s(!1),u({title:"Penjadwalan notifikasi belum tersedia",description:"Aktifkan notifikasi untuk membuat jadwal pengiriman notifikasi",variant:"destructive"})),g.status===200&&g.data[0].is_running===!0&&s(!0),g.status===200&&g.data[0].is_running===!1&&s(!1)}catch(m){console.error("Error checking notification status:",m)}},d=async m=>{if(m)c(!0);else try{const j=await(await G("https://digio.pgn.co.id/lisa_backend/cron/running")).json();if(j.status===200&&j.data&&j.data.length>0){const b=j.data[0].uuid;(await G("https://digio.pgn.co.id/lisa_backend/cron/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:b,is_running:!1})})).ok&&(s(!1),u({title:"Notifikasi dinonaktifkan",description:"Notifikasi telah dinonaktifkan",variant:"destructive"}))}}catch(g){console.error("Error disabling notification:",g),u({title:"Error",description:"Terjadi kesalahan saat menonaktifkan notifikasi",variant:"destructive"})}},x=()=>{s(!0),l()};return e.jsxs("header",{className:"bg-card border-b border-border shadow-sm sticky top-0 z-10",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("img",{src:h==="dark"?"/lisa/logo-dark.png":"/lisa/logo-white.png",alt:"Lisensi Aset Logo",className:"h-8 w-auto sm:h-8 object-contain"}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-foreground",children:"Lisensi Aset"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Sistem Monitoring Lisensi Aset"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(Sr,{children:e.jsxs(_,{variant:"default",size:"sm",className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx(ua,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Email"})]})}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Un,{className:`w-4 h-4 sm:w-5 sm:h-5 ${a?"text-primary":"text-muted-foreground"}`}),e.jsx(va,{checked:a,onCheckedChange:d,"aria-label":"Toggle notifications",className:"scale-75 sm:scale-100"}),e.jsx("span",{className:"hidden sm:inline text-sm text-muted-foreground",children:a?"Aktif":"Nonaktif"})]}),e.jsx(_,{variant:"ghost",size:"sm",onClick:()=>p(h==="dark"?"light":"dark"),className:"px-2 sm:px-3 py-1 sm:py-2",children:h==="dark"?e.jsx(Xn,{className:"w-4 h-4"}):e.jsx(qn,{className:"w-4 h-4"})}),!n&&e.jsxs(_,{variant:"destructive",size:"sm",onClick:t,className:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx(Yn,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),e.jsx(Er,{open:i,onOpenChange:c,onSuccess:x})]})},Rr=r.forwardRef((t,a)=>{const[s,n]=r.useState([]),[o,i]=r.useState(!0),[c,u]=r.useState(null),{toast:h}=Ge();r.useEffect(()=>{p()},[]);const p=async()=>{try{const d=await(await G("https://digio.pgn.co.id/lisa_backend/home/get")).json();if(d.status===200&&d.data){const x=d.data.map(m=>{switch(m.status){case"secure":return{title:"Lisensi Aman",count:m.count,total:m.total_data,icon:e.jsx(yn,{className:"w-6 h-6 sm:w-8 sm:h-8"}),color:"text-success-foreground",bgColor:"bg-success"};case"will_expire":return{title:"Akan Kadaluarsa",count:m.count,total:m.total_data,icon:e.jsx(Gn,{className:"w-6 h-6 sm:w-8 sm:h-8"}),color:"text-warning-foreground",bgColor:"bg-warning"};case"expired":return{title:"Sudah Kadaluarsa",count:m.count,total:m.total_data,icon:e.jsx(Jt,{className:"w-6 h-6 sm:w-8 sm:h-8"}),color:"text-destructive-foreground",bgColor:"bg-destructive"};default:return null}}).filter(Boolean);n(x),u(null)}else throw new Error("Data tidak valid")}catch{const d="Gagal memuat data status lisensi";u(d),h({title:"Error",description:d,variant:"destructive"})}finally{i(!1)}};return r.useImperativeHandle(a,()=>({refreshData:p})),o?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[1,2,3].map(l=>e.jsxs(at,{className:"overflow-hidden animate-pulse",children:[e.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20 sm:w-24"}),e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-muted rounded-lg"})]}),e.jsxs(Bt,{children:[e.jsx("div",{className:"h-6 sm:h-8 bg-muted rounded w-12 sm:w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-24 sm:w-32"})]})]},l))}):c?e.jsx(at,{className:"p-4 sm:p-6 border-destructive mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[e.jsx(Zt,{className:"w-5 h-5 sm:w-6 sm:h-6"}),e.jsx("p",{className:"text-sm sm:text-base",children:c})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:s.map((l,d)=>e.jsxs(at,{className:"overflow-hidden",children:[e.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Ln,{className:"text-sm sm:text-base lg:text-lg font-semibold text-muted-foreground",children:l.title}),e.jsx("div",{className:`p-2 sm:p-2 rounded-lg ${l.bgColor} ${l.color} flex items-center justify-center`,children:e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center",children:l.icon})})]}),e.jsxs(Bt,{children:[e.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:l.count}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.count," dari ",l.total," lisensi"]})]})]},d))})});var st="rovingFocusGroup.onEntryFocus",Tr={bubbles:!1,cancelable:!0},Be="RovingFocusGroup",[gt,os,Ir]=Qt(Be),[Ar,is]=Re(Be,[Ir]),[Pr,Or]=Ar(Be),cs=r.forwardRef((t,a)=>e.jsx(gt.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(gt.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Fr,{...t,ref:a})})}));cs.displayName=Be;var Fr=r.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:o=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:l=!1,...d}=t,x=r.useRef(null),m=q(a,x),g=oa(i),[j,b]=Xe({prop:c,defaultProp:u??null,onChange:h,caller:Be}),[R,P]=r.useState(!1),E=jt(p),D=os(s),V=r.useRef(!1),[v,k]=r.useState(0);return r.useEffect(()=>{const w=x.current;if(w)return w.addEventListener(st,E),()=>w.removeEventListener(st,E)},[E]),e.jsx(Pr,{scope:s,orientation:n,dir:g,loop:o,currentTabStopId:j,onItemFocus:r.useCallback(w=>b(w),[b]),onItemShiftTab:r.useCallback(()=>P(!0),[]),onFocusableItemAdd:r.useCallback(()=>k(w=>w+1),[]),onFocusableItemRemove:r.useCallback(()=>k(w=>w-1),[]),children:e.jsx(U.div,{tabIndex:R||v===0?-1:0,"data-orientation":n,...d,ref:m,style:{outline:"none",...t.style},onMouseDown:C(t.onMouseDown,()=>{V.current=!0}),onFocus:C(t.onFocus,w=>{const S=!V.current;if(w.target===w.currentTarget&&S&&!R){const A=new CustomEvent(st,Tr);if(w.currentTarget.dispatchEvent(A),!A.defaultPrevented){const se=D().filter($=>$.focusable),F=se.find($=>$.active),z=se.find($=>$.id===j),ce=[F,z,...se].filter(Boolean).map($=>$.ref.current);us(ce,l)}}V.current=!1}),onBlur:C(t.onBlur,()=>P(!1))})})}),ls="RovingFocusGroupItem",ds=r.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:o=!1,tabStopId:i,children:c,...u}=t,h=Se(),p=i||h,l=Or(ls,s),d=l.currentTabStopId===p,x=os(s),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:j}=l;return r.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),e.jsx(gt.ItemSlot,{scope:s,id:p,focusable:n,active:o,children:e.jsx(U.span,{tabIndex:d?0:-1,"data-orientation":l.orientation,...u,ref:a,onMouseDown:C(t.onMouseDown,b=>{n?l.onItemFocus(p):b.preventDefault()}),onFocus:C(t.onFocus,()=>l.onItemFocus(p)),onKeyDown:C(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){l.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const R=Gr(b,l.orientation,l.dir);if(R!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=x().filter(D=>D.focusable).map(D=>D.ref.current);if(R==="last")E.reverse();else if(R==="prev"||R==="next"){R==="prev"&&E.reverse();const D=E.indexOf(b.currentTarget);E=l.loop?Br(E,D+1):E.slice(D+1)}setTimeout(()=>us(E))}}),children:typeof c=="function"?c({isCurrentTabStop:d,hasTabStop:j!=null}):c})})});ds.displayName=ls;var $r={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lr(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Gr(t,a,s){const n=Lr(t.key,s);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $r[n]}function us(t,a=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:a}),document.activeElement!==s))return}function Br(t,a){return t.map((s,n)=>t[(a+n)%t.length])}var Ur=cs,Kr=ds,vt=["Enter"," "],zr=["ArrowDown","PageUp","Home"],ms=["ArrowUp","PageDown","End"],Hr=[...zr,...ms],Vr={ltr:[...vt,"ArrowRight"],rtl:[...vt,"ArrowLeft"]},Wr={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ue="Menu",[$e,Yr,qr]=Qt(Ue),[_e,ps]=Re(Ue,[qr,ea,is]),Qe=ea(),fs=is(),[Xr,ke]=_e(Ue),[Jr,Ke]=_e(Ue),hs=t=>{const{__scopeMenu:a,open:s=!1,children:n,dir:o,onOpenChange:i,modal:c=!0}=t,u=Qe(a),[h,p]=r.useState(null),l=r.useRef(!1),d=jt(i),x=oa(o);return r.useEffect(()=>{const m=()=>{l.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>l.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(kn,{...u,children:e.jsx(Xr,{scope:a,open:s,onOpenChange:d,content:h,onContentChange:p,children:e.jsx(Jr,{scope:a,onClose:r.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:l,dir:x,modal:c,children:n})})})};hs.displayName=Ue;var Zr="MenuAnchor",Mt=r.forwardRef((t,a)=>{const{__scopeMenu:s,...n}=t,o=Qe(s);return e.jsx(bn,{...o,...n,ref:a})});Mt.displayName=Zr;var Rt="MenuPortal",[Qr,xs]=_e(Rt,{forceMount:void 0}),gs=t=>{const{__scopeMenu:a,forceMount:s,children:n,container:o}=t,i=ke(Rt,a);return e.jsx(Qr,{scope:a,forceMount:s,children:e.jsx(Ce,{present:s||i.open,children:e.jsx(qt,{asChild:!0,container:o,children:n})})})};gs.displayName=Rt;var Z="MenuContent",[eo,Tt]=_e(Z),vs=r.forwardRef((t,a)=>{const s=xs(Z,t.__scopeMenu),{forceMount:n=s.forceMount,...o}=t,i=ke(Z,t.__scopeMenu),c=Ke(Z,t.__scopeMenu);return e.jsx($e.Provider,{scope:t.__scopeMenu,children:e.jsx(Ce,{present:n||i.open,children:e.jsx($e.Slot,{scope:t.__scopeMenu,children:c.modal?e.jsx(to,{...o,ref:a}):e.jsx(ao,{...o,ref:a})})})})}),to=r.forwardRef((t,a)=>{const s=ke(Z,t.__scopeMenu),n=r.useRef(null),o=q(a,n);return r.useEffect(()=>{const i=n.current;if(i)return ca(i)},[]),e.jsx(It,{...t,ref:o,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:C(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),ao=r.forwardRef((t,a)=>{const s=ke(Z,t.__scopeMenu);return e.jsx(It,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),so=Xt("MenuContent.ScrollLock"),It=r.forwardRef((t,a)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:x,onDismiss:m,disableOutsideScroll:g,...j}=t,b=ke(Z,s),R=Ke(Z,s),P=Qe(s),E=fs(s),D=Yr(s),[V,v]=r.useState(null),k=r.useRef(null),w=q(a,k,b.onContentChange),S=r.useRef(0),A=r.useRef(""),se=r.useRef(0),F=r.useRef(null),z=r.useRef("right"),Q=r.useRef(0),ce=g?ia:r.Fragment,$=g?{as:so,allowPinchZoom:!0}:void 0,ne=y=>{var fe,Ae;const H=A.current+y,J=D().filter(te=>!te.disabled),re=document.activeElement,Te=(fe=J.find(te=>te.ref.current===re))==null?void 0:fe.textValue,Ie=J.map(te=>te.textValue),he=xo(Ie,H,Te),ee=(Ae=J.find(te=>te.textValue===he))==null?void 0:Ae.ref.current;(function te(ze){A.current=ze,window.clearTimeout(S.current),ze!==""&&(S.current=window.setTimeout(()=>te(""),1e3))})(H),ee&&setTimeout(()=>ee.focus())};r.useEffect(()=>()=>window.clearTimeout(S.current),[]),la();const X=r.useCallback(y=>{var J,re;return z.current===((J=F.current)==null?void 0:J.side)&&vo(y,(re=F.current)==null?void 0:re.area)},[]);return e.jsx(eo,{scope:s,searchRef:A,onItemEnter:r.useCallback(y=>{X(y)&&y.preventDefault()},[X]),onItemLeave:r.useCallback(y=>{var H;X(y)||((H=k.current)==null||H.focus(),v(null))},[X]),onTriggerLeave:r.useCallback(y=>{X(y)&&y.preventDefault()},[X]),pointerGraceTimerRef:se,onPointerGraceIntentChange:r.useCallback(y=>{F.current=y},[]),children:e.jsx(ce,{...$,children:e.jsx(da,{asChild:!0,trapped:o,onMountAutoFocus:C(i,y=>{var H;y.preventDefault(),(H=k.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(Yt,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:x,onDismiss:m,children:e.jsx(Ur,{asChild:!0,...E,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:V,onCurrentTabStopIdChange:v,onEntryFocus:C(h,y=>{R.isUsingKeyboardRef.current||y.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Nn,{role:"menu","aria-orientation":"vertical","data-state":As(b.open),"data-radix-menu-content":"",dir:R.dir,...P,...j,ref:w,style:{outline:"none",...j.style},onKeyDown:C(j.onKeyDown,y=>{const J=y.target.closest("[data-radix-menu-content]")===y.currentTarget,re=y.ctrlKey||y.altKey||y.metaKey,Te=y.key.length===1;J&&(y.key==="Tab"&&y.preventDefault(),!re&&Te&&ne(y.key));const Ie=k.current;if(y.target!==Ie||!Hr.includes(y.key))return;y.preventDefault();const ee=D().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);ms.includes(y.key)&&ee.reverse(),fo(ee)}),onBlur:C(t.onBlur,y=>{y.currentTarget.contains(y.target)||(window.clearTimeout(S.current),A.current="")}),onPointerMove:C(t.onPointerMove,Le(y=>{const H=y.target,J=Q.current!==y.clientX;if(y.currentTarget.contains(H)&&J){const re=y.clientX>Q.current?"right":"left";z.current=re,Q.current=y.clientX}}))})})})})})})});vs.displayName=Z;var no="MenuGroup",At=r.forwardRef((t,a)=>{const{__scopeMenu:s,...n}=t;return e.jsx(U.div,{role:"group",...n,ref:a})});At.displayName=no;var ro="MenuLabel",ws=r.forwardRef((t,a)=>{const{__scopeMenu:s,...n}=t;return e.jsx(U.div,{...n,ref:a})});ws.displayName=ro;var Ye="MenuItem",Wt="menu.itemSelect",et=r.forwardRef((t,a)=>{const{disabled:s=!1,onSelect:n,...o}=t,i=r.useRef(null),c=Ke(Ye,t.__scopeMenu),u=Tt(Ye,t.__scopeMenu),h=q(a,i),p=r.useRef(!1),l=()=>{const d=i.current;if(!s&&d){const x=new CustomEvent(Wt,{bubbles:!0,cancelable:!0});d.addEventListener(Wt,m=>n==null?void 0:n(m),{once:!0}),_n(d,x),x.defaultPrevented?p.current=!1:c.onClose()}};return e.jsx(js,{...o,ref:h,disabled:s,onClick:C(t.onClick,l),onPointerDown:d=>{var x;(x=t.onPointerDown)==null||x.call(t,d),p.current=!0},onPointerUp:C(t.onPointerUp,d=>{var x;p.current||(x=d.currentTarget)==null||x.click()}),onKeyDown:C(t.onKeyDown,d=>{const x=u.searchRef.current!=="";s||x&&d.key===" "||vt.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});et.displayName=Ye;var js=r.forwardRef((t,a)=>{const{__scopeMenu:s,disabled:n=!1,textValue:o,...i}=t,c=Tt(Ye,s),u=fs(s),h=r.useRef(null),p=q(a,h),[l,d]=r.useState(!1),[x,m]=r.useState("");return r.useEffect(()=>{const g=h.current;g&&m((g.textContent??"").trim())},[i.children]),e.jsx($e.ItemSlot,{scope:s,disabled:n,textValue:o??x,children:e.jsx(Kr,{asChild:!0,...u,focusable:!n,children:e.jsx(U.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:p,onPointerMove:C(t.onPointerMove,Le(g=>{n?c.onItemLeave(g):(c.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:C(t.onPointerLeave,Le(g=>c.onItemLeave(g))),onFocus:C(t.onFocus,()=>d(!0)),onBlur:C(t.onBlur,()=>d(!1))})})})}),oo="MenuCheckboxItem",ys=r.forwardRef((t,a)=>{const{checked:s=!1,onCheckedChange:n,...o}=t;return e.jsx(ks,{scope:t.__scopeMenu,checked:s,children:e.jsx(et,{role:"menuitemcheckbox","aria-checked":qe(s)?"mixed":s,...o,ref:a,"data-state":Ot(s),onSelect:C(o.onSelect,()=>n==null?void 0:n(qe(s)?!0:!s),{checkForDefaultPrevented:!1})})})});ys.displayName=oo;var bs="MenuRadioGroup",[io,co]=_e(bs,{value:void 0,onValueChange:()=>{}}),Ns=r.forwardRef((t,a)=>{const{value:s,onValueChange:n,...o}=t,i=jt(n);return e.jsx(io,{scope:t.__scopeMenu,value:s,onValueChange:i,children:e.jsx(At,{...o,ref:a})})});Ns.displayName=bs;var Cs="MenuRadioItem",_s=r.forwardRef((t,a)=>{const{value:s,...n}=t,o=co(Cs,t.__scopeMenu),i=s===o.value;return e.jsx(ks,{scope:t.__scopeMenu,checked:i,children:e.jsx(et,{role:"menuitemradio","aria-checked":i,...n,ref:a,"data-state":Ot(i),onSelect:C(n.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,s)},{checkForDefaultPrevented:!1})})})});_s.displayName=Cs;var Pt="MenuItemIndicator",[ks,lo]=_e(Pt,{checked:!1}),Ds=r.forwardRef((t,a)=>{const{__scopeMenu:s,forceMount:n,...o}=t,i=lo(Pt,s);return e.jsx(Ce,{present:n||qe(i.checked)||i.checked===!0,children:e.jsx(U.span,{...o,ref:a,"data-state":Ot(i.checked)})})});Ds.displayName=Pt;var uo="MenuSeparator",Ss=r.forwardRef((t,a)=>{const{__scopeMenu:s,...n}=t;return e.jsx(U.div,{role:"separator","aria-orientation":"horizontal",...n,ref:a})});Ss.displayName=uo;var mo="MenuArrow",Es=r.forwardRef((t,a)=>{const{__scopeMenu:s,...n}=t,o=Qe(s);return e.jsx(Cn,{...o,...n,ref:a})});Es.displayName=mo;var po="MenuSub",[ji,Ms]=_e(po),Fe="MenuSubTrigger",Rs=r.forwardRef((t,a)=>{const s=ke(Fe,t.__scopeMenu),n=Ke(Fe,t.__scopeMenu),o=Ms(Fe,t.__scopeMenu),i=Tt(Fe,t.__scopeMenu),c=r.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,p={__scopeMenu:t.__scopeMenu},l=r.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return r.useEffect(()=>l,[l]),r.useEffect(()=>{const d=u.current;return()=>{window.clearTimeout(d),h(null)}},[u,h]),e.jsx(Mt,{asChild:!0,...p,children:e.jsx(js,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":o.contentId,"data-state":As(s.open),...t,ref:ta(a,o.onTriggerChange),onClick:d=>{var x;(x=t.onClick)==null||x.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:C(t.onPointerMove,Le(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!s.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{s.onOpenChange(!0),l()},100))})),onPointerLeave:C(t.onPointerLeave,Le(d=>{var m,g;l();const x=(m=s.content)==null?void 0:m.getBoundingClientRect();if(x){const j=(g=s.content)==null?void 0:g.dataset.side,b=j==="right",R=b?-5:5,P=x[b?"left":"right"],E=x[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+R,y:d.clientY},{x:P,y:x.top},{x:E,y:x.top},{x:E,y:x.bottom},{x:P,y:x.bottom}],side:j}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:C(t.onKeyDown,d=>{var m;const x=i.searchRef.current!=="";t.disabled||x&&d.key===" "||Vr[n.dir].includes(d.key)&&(s.onOpenChange(!0),(m=s.content)==null||m.focus(),d.preventDefault())})})})});Rs.displayName=Fe;var Ts="MenuSubContent",Is=r.forwardRef((t,a)=>{const s=xs(Z,t.__scopeMenu),{forceMount:n=s.forceMount,...o}=t,i=ke(Z,t.__scopeMenu),c=Ke(Z,t.__scopeMenu),u=Ms(Ts,t.__scopeMenu),h=r.useRef(null),p=q(a,h);return e.jsx($e.Provider,{scope:t.__scopeMenu,children:e.jsx(Ce,{present:n||i.open,children:e.jsx($e.Slot,{scope:t.__scopeMenu,children:e.jsx(It,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{var d;c.isUsingKeyboardRef.current&&((d=h.current)==null||d.focus()),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:C(t.onFocusOutside,l=>{l.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:C(t.onEscapeKeyDown,l=>{c.onClose(),l.preventDefault()}),onKeyDown:C(t.onKeyDown,l=>{var m;const d=l.currentTarget.contains(l.target),x=Wr[c.dir].includes(l.key);d&&x&&(i.onOpenChange(!1),(m=u.trigger)==null||m.focus(),l.preventDefault())})})})})})});Is.displayName=Ts;function As(t){return t?"open":"closed"}function qe(t){return t==="indeterminate"}function Ot(t){return qe(t)?"indeterminate":t?"checked":"unchecked"}function fo(t){const a=document.activeElement;for(const s of t)if(s===a||(s.focus(),document.activeElement!==a))return}function ho(t,a){return t.map((s,n)=>t[(a+n)%t.length])}function xo(t,a,s){const o=a.length>1&&Array.from(a).every(p=>p===a[0])?a[0]:a,i=s?t.indexOf(s):-1;let c=ho(t,Math.max(i,0));o.length===1&&(c=c.filter(p=>p!==s));const h=c.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return h!==s?h:void 0}function go(t,a){const{x:s,y:n}=t;let o=!1;for(let i=0,c=a.length-1;i<a.length;c=i++){const u=a[i],h=a[c],p=u.x,l=u.y,d=h.x,x=h.y;l>n!=x>n&&s<(d-p)*(n-l)/(x-l)+p&&(o=!o)}return o}function vo(t,a){if(!a)return!1;const s={x:t.clientX,y:t.clientY};return go(s,a)}function Le(t){return a=>a.pointerType==="mouse"?t(a):void 0}var wo=hs,jo=Mt,yo=gs,bo=vs,No=At,Co=ws,_o=et,ko=ys,Do=Ns,So=_s,Eo=Ds,Mo=Ss,Ro=Es,To=Rs,Io=Is,tt="DropdownMenu",[Ao,yi]=Re(tt,[ps]),K=ps(),[Po,Ps]=Ao(tt),Os=t=>{const{__scopeDropdownMenu:a,children:s,dir:n,open:o,defaultOpen:i,onOpenChange:c,modal:u=!0}=t,h=K(a),p=r.useRef(null),[l,d]=Xe({prop:o,defaultProp:i??!1,onChange:c,caller:tt});return e.jsx(Po,{scope:a,triggerId:Se(),triggerRef:p,contentId:Se(),open:l,onOpenChange:d,onOpenToggle:r.useCallback(()=>d(x=>!x),[d]),modal:u,children:e.jsx(wo,{...h,open:l,onOpenChange:d,dir:n,modal:u,children:s})})};Os.displayName=tt;var Fs="DropdownMenuTrigger",$s=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...o}=t,i=Ps(Fs,s),c=K(s);return e.jsx(jo,{asChild:!0,...c,children:e.jsx(U.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:ta(a,i.triggerRef),onPointerDown:C(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:C(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});$s.displayName=Fs;var Oo="DropdownMenuPortal",Ls=t=>{const{__scopeDropdownMenu:a,...s}=t,n=K(a);return e.jsx(yo,{...n,...s})};Ls.displayName=Oo;var Gs="DropdownMenuContent",Bs=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=Ps(Gs,s),i=K(s),c=r.useRef(!1);return e.jsx(bo,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:a,onCloseAutoFocus:C(t.onCloseAutoFocus,u=>{var h;c.current||(h=o.triggerRef.current)==null||h.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:C(t.onInteractOutside,u=>{const h=u.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,l=h.button===2||p;(!o.modal||l)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Bs.displayName=Gs;var Fo="DropdownMenuGroup",$o=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(No,{...o,...n,ref:a})});$o.displayName=Fo;var Lo="DropdownMenuLabel",Us=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(Co,{...o,...n,ref:a})});Us.displayName=Lo;var Go="DropdownMenuItem",Ks=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(_o,{...o,...n,ref:a})});Ks.displayName=Go;var Bo="DropdownMenuCheckboxItem",zs=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(ko,{...o,...n,ref:a})});zs.displayName=Bo;var Uo="DropdownMenuRadioGroup",Ko=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(Do,{...o,...n,ref:a})});Ko.displayName=Uo;var zo="DropdownMenuRadioItem",Hs=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(So,{...o,...n,ref:a})});Hs.displayName=zo;var Ho="DropdownMenuItemIndicator",Vs=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(Eo,{...o,...n,ref:a})});Vs.displayName=Ho;var Vo="DropdownMenuSeparator",Ws=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(Mo,{...o,...n,ref:a})});Ws.displayName=Vo;var Wo="DropdownMenuArrow",Yo=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(Ro,{...o,...n,ref:a})});Yo.displayName=Wo;var qo="DropdownMenuSubTrigger",Ys=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(To,{...o,...n,ref:a})});Ys.displayName=qo;var Xo="DropdownMenuSubContent",qs=r.forwardRef((t,a)=>{const{__scopeDropdownMenu:s,...n}=t,o=K(s);return e.jsx(Io,{...o,...n,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qs.displayName=Xo;var Jo=Os,Zo=$s,Qo=Ls,Xs=Bs,Js=Us,Zs=Ks,Qs=zs,en=Hs,tn=Vs,an=Ws,sn=Ys,nn=qs;const ei=Jo,ti=Zo,ai=r.forwardRef(({className:t,inset:a,children:s,...n},o)=>e.jsxs(sn,{ref:o,className:I("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...n,children:[s,e.jsx(ct,{className:"ml-auto h-4 w-4"})]}));ai.displayName=sn.displayName;const si=r.forwardRef(({className:t,...a},s)=>e.jsx(nn,{ref:s,className:I("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));si.displayName=nn.displayName;const rn=r.forwardRef(({className:t,sideOffset:a=4,...s},n)=>e.jsx(Qo,{children:e.jsx(Xs,{ref:n,sideOffset:a,className:I("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));rn.displayName=Xs.displayName;const wt=r.forwardRef(({className:t,inset:a,...s},n)=>e.jsx(Zs,{ref:n,className:I("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...s}));wt.displayName=Zs.displayName;const ni=r.forwardRef(({className:t,children:a,checked:s,...n},o)=>e.jsxs(Qs,{ref:o,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(tn,{children:e.jsx(Rn,{className:"h-4 w-4"})})}),a]}));ni.displayName=Qs.displayName;const ri=r.forwardRef(({className:t,children:a,...s},n)=>e.jsxs(en,{ref:n,className:I("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(tn,{children:e.jsx(Kn,{className:"h-2 w-2 fill-current"})})}),a]}));ri.displayName=en.displayName;const oi=r.forwardRef(({className:t,inset:a,...s},n)=>e.jsx(Js,{ref:n,className:I("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...s}));oi.displayName=Js.displayName;const ii=r.forwardRef(({className:t,...a},s)=>e.jsx(an,{ref:s,className:I("-mx-1 my-1 h-px bg-muted",t),...a}));ii.displayName=an.displayName;const ci=({onDataChange:t})=>{const a=Dn(),[s,n]=r.useState(""),[o,i]=r.useState([]),[c,u]=r.useState(!0),[h,p]=r.useState(!1),[l,d]=r.useState(null),[x,m]=r.useState(!1),[g,j]=r.useState(1),[b,R]=r.useState("10"),[P,E]=r.useState(1),[D,V]=r.useState(""),[v,k]=r.useState("asc"),{toast:w}=Ge(),[S,A]=r.useState([]),[se,F]=r.useState(!0),z=async(f,N,T,le=!1)=>{try{if(u(!0),!D||le){let L="https://digio.pgn.co.id/lisa_backend/licenses/export";T&&(L=`https://digio.pgn.co.id/lisa_backend/licenses/get?page=1&paginate=9999&name=${encodeURIComponent(T)}`);const de=await(await G(L)).json();if(de.status===200){const ue=T?de.data.docs:de.data;A(ue);const Pe={"Sudah Kadaluarsa":1,"Akan Kadaluarsa":2,Aman:3},De=[...ue].sort((un,mn)=>{const pn=ne(un.end_date).text,fn=ne(mn.end_date).text;return Pe[pn]-Pe[fn]}),M=(f-1)*N,W=M+N,dn=De.slice(M,W);i(dn),E(Math.ceil(De.length/N)),F(!0)}}else{let L=`https://digio.pgn.co.id/lisa_backend/licenses/get?page=${f}&paginate=${N}&name=`;T&&(L+=`${encodeURIComponent(T)}`);const de=await(await G(L)).json();if(de.status===200){let ue=[...de.data.docs];ue=ue.sort((Pe,De)=>{let M=Pe[D],W=De[D];return(D==="volume"||D==="harga_satuan"||D==="jumlah")&&(M=Number(M),W=Number(W)),(D==="start_date"||D==="end_date")&&(M=new Date(M).getTime(),W=new Date(W).getTime()),v==="asc"?M<W?-1:M>W?1:0:M>W?-1:M<W?1:0}),i(ue),E(de.data.pages),F(!1)}}}catch{w({title:"Error",description:"Terjadi kesalahan saat memuat data lisensi",variant:"destructive"})}finally{u(!1)}};r.useEffect(()=>{z(g,parseInt(b))},[g,b,D,v]),r.useEffect(()=>{const f=setTimeout(()=>{z(1,parseInt(b),s),j(1)},500);return()=>clearTimeout(f)},[s]);const[Q,ce]=r.useState({}),$=f=>{const N={day:"2-digit",month:"long",year:"numeric"};return new Date(f).toLocaleDateString("id-ID",N)},ne=f=>{const N=new Date,T=new Date(f),le=Math.ceil((T.getTime()-N.getTime())/(1e3*60*60*24));return le<0?{text:"Sudah Kadaluarsa",color:"bg-red-100 text-red-700 border-red-200",icon:Jt}:le<=120?{text:"Akan Kadaluarsa",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:Zt}:{text:"Aman",color:"bg-green-100 text-green-700 border-green-200",icon:Bn}},X=f=>{ce(N=>({...N,[f]:!N[f]}))},y=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(f),H=async()=>{try{u(!0);const N=await(await G("https://digio.pgn.co.id/lisa_backend/licenses/export")).json();N.status!==200&&w({title:"Info",description:"Tidak ada data yang bisa diekspor (data kosong)",variant:"warning"});const T=N.data||[];console.log(T);const le=T.map(M=>({"Nama Aset":M.name,"Tanggal Mulai":$(M.start_date),"Tanggal Berakhir":$(M.end_date),Status:ne(M.end_date).text,Volume:M.volume,Satuan:M.satuan,"Harga Satuan":M.harga_satuan,"Total Harga":M.jumlah,Username:M.username,Password:M.password,Lokasi:M.lokasi_lisensi,Catatan:M.description,"Pengguna Terakhir":M.last_user_input})),L=Oe.json_to_sheet(le),He=Oe.book_new();Oe.book_append_sheet(He,L,"Data Lisensi");const de=[{wch:30},{wch:15},{wch:15},{wch:15},{wch:10},{wch:10},{wch:15},{wch:15},{wch:20},{wch:20},{wch:30},{wch:40},{wch:20}];L["!cols"]=de;const ue=Oe.decode_range(L["!ref"]||"A1");for(let M=ue.s.c;M<=ue.e.c;++M){const W=Oe.encode_col(M)+"1";L[W]&&(L[W].s={font:{bold:!0},fill:{fgColor:{rgb:"EFEFEF"}},alignment:{horizontal:"center"}})}const De=new Date().toISOString().split("T")[0];An(He,`Data_Lisensi_${De}.xlsx`),w({title:"Export berhasil",description:"Data lisensi telah diekspor ke file Excel",variant:"success"})}catch{return}finally{u(!1)}},J=f=>{var T;const N=(T=f.target.files)==null?void 0:T[0];N&&d(N)},re=()=>{p(!0)},Te=()=>{window.open("/lisa/Template_Upload_Data_Lisensi.xlsx","_blank")},[Ie,he]=r.useState(!1),[ee,fe]=r.useState(null),Ae=(f,N)=>{f==="Delete"?(fe(N),he(!0)):f==="Edit"&&a(`/edit/${N.uuid}`)},te=async()=>{if(ee)try{if((await G("https://digio.pgn.co.id/lisa_backend/licenses/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:ee.uuid})})).ok)a("/"),w({title:"Berhasil",description:"Data lisensi berhasil dihapus",variant:"success"}),he(!1),z(g,parseInt(b)),t==null||t();else throw new Error("Gagal menghapus data")}catch{w({title:"Error",description:"Terjadi kesalahan saat menghapus data lisensi",variant:"destructive"})}},ze=async()=>{if(!l){w({title:"Error",description:"Pilih file terlebih dahulu",variant:"destructive"});return}try{m(!0);const f=new FormData;f.append("file",l);const N=En("auth_name")||"";if(f.append("last_user_input",N),(await G("https://digio.pgn.co.id/lisa_backend/licenses/upload",{method:"POST",body:f})).ok)a("/"),w({title:"Import berhasil",description:"Data lisensi telah berhasil diimport",variant:"success"}),p(!1),d(null),z(g,parseInt(b)),t==null||t();else throw new Error("Import gagal")}catch{w({title:"Import gagal",description:"Terjadi kesalahan saat mengimport data",variant:"destructive"})}finally{m(!1)}},xe=f=>{D===f?v==="desc"?(V(""),k("asc")):k("desc"):(V(f),k("asc")),j(1)},ge=f=>D!==f?e.jsx(Pn,{className:"w-4 h-4 ml-1 opacity-50"}):v==="asc"?e.jsx(On,{className:"w-4 h-4 ml-1"}):e.jsx(Fn,{className:"w-4 h-4 ml-1"}),[Ft,on]=r.useState({}),cn=f=>{on(N=>({...N,[f]:!N[f]}))},ln=(f,N)=>{const T=[];T.push(1),f-2>2&&T.push("...");for(let L=Math.max(2,f-2);L<=Math.min(N-1,f+2);L++)T.push(L);return f+2<N-1&&T.push("..."),N>1&&T.push(N),T};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground",children:"Daftar Lisensi Aset"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs(_,{onClick:()=>a("/add"),className:"flex items-center justify-center gap-2 w-full sm:w-auto",variant:"success",children:[e.jsx(yt,{className:"w-4 h-4"}),"Tambah Lisensi"]}),e.jsxs(_,{onClick:()=>a("/prices"),variant:"warning",className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(zn,{className:"w-4 h-4"}),"Harga Lisensi"]}),e.jsxs(ei,{children:[e.jsx(ti,{asChild:!0,children:e.jsxs(_,{variant:"default",className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[e.jsx(Hn,{className:"w-4 h-4"}),"Excel",e.jsx($t,{className:"w-4 h-4"})]})}),e.jsxs(rn,{children:[e.jsxs(wt,{onClick:re,children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Import Data"]}),e.jsxs(wt,{onClick:H,children:[e.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm w-full md:w-auto",children:[e.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(ve,{placeholder:"Cari lisensi...",value:s,onChange:f=>n(f.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto justify-end",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Tampilkan:"}),e.jsxs(nt,{value:b,onValueChange:R,children:[e.jsx(rt,{className:"w-16",children:e.jsx(ot,{})}),e.jsxs(it,{children:[e.jsx(oe,{value:"10",children:"10"}),e.jsx(oe,{value:"25",children:"25"}),e.jsx(oe,{value:"50",children:"50"}),e.jsx(oe,{value:"100",children:"100"})]})]})]})]}),e.jsx(Ee,{open:h,onOpenChange:p,children:e.jsxs(we,{children:[e.jsxs(je,{children:[e.jsx(ye,{children:"Import Data Lisensi"}),e.jsx(be,{children:"Upload file Excel untuk mengimport data lisensi baru"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{children:"Template Excel"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Gunakan template yang telah disediakan untuk mengimport data"}),e.jsxs(_,{variant:"secondary",size:"sm",onClick:Te,className:"w-full",children:[e.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Download Template"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ie,{children:"Upload File"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Pilih file Excel yang akan diimport"}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ve,{type:"file",accept:".xlsx",onChange:J,disabled:x}),e.jsx(_,{onClick:ze,disabled:!l||x,className:"w-full",children:x?e.jsxs(e.Fragment,{children:[e.jsx(In,{className:"w-4 h-4 mr-2 animate-spin"}),"Mengupload..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Upload"]})})]})]})]})]})}),e.jsx(Ee,{open:Ie,onOpenChange:he,children:e.jsxs(we,{children:[e.jsxs(je,{children:[e.jsx(ye,{children:"Konfirmasi Hapus"}),e.jsx(be,{children:"Konfirmasi penghapusan data lisensi yang dipilih"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{children:['Apakah Anda yakin ingin menghapus lisensi "',ee==null?void 0:ee.name,'"?']}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(_,{variant:"default",onClick:()=>he(!1),children:"Batal"}),e.jsx(_,{variant:"destructive",onClick:te,children:"Hapus"})]})]})}),e.jsx("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxs(sa,{className:"[&_tr>*]:border-r [&_tr>*:last-child]:border-r-0 [&_tr]:border-b [&_tr:last-child]:border-b-0",children:[e.jsx(na,{children:e.jsxs(me,{className:"bg-muted/50 border-b",children:[e.jsx(Y,{className:"w-[120px] text-center whitespace-nowrap",children:"Aksi"}),e.jsx(Y,{className:"w-[200px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("name"),children:e.jsxs("div",{className:"flex items-center",children:["Nama Aset",ge("name")]})}),e.jsx(Y,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("start_date"),children:e.jsxs("div",{className:"flex items-center",children:["Tanggal Mulai",ge("start_date")]})}),e.jsx(Y,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("end_date"),children:e.jsxs("div",{className:"flex items-center",children:["Tanggal Berakhir",ge("end_date")]})}),e.jsx(Y,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("end_date"),children:e.jsxs("div",{className:"flex items-center",children:["Status",ge("end_date")]})}),e.jsx(Y,{className:"w-[80px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("volume"),children:e.jsxs("div",{className:"flex items-center",children:["Volume",ge("volume")]})}),e.jsx(Y,{className:"w-[100px] whitespace-nowrap",children:"Satuan"}),e.jsx(Y,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("harga_satuan"),children:e.jsxs("div",{className:"flex items-center",children:["Harga Satuan",ge("harga_satuan")]})}),e.jsx(Y,{className:"w-[150px] whitespace-nowrap cursor-pointer hover:bg-muted/70",onClick:()=>xe("jumlah"),children:e.jsxs("div",{className:"flex items-center",children:["Total Harga",ge("jumlah")]})})]})}),e.jsx(ra,{className:"[&_tr:last-child]:border-b-0",children:c?e.jsx(me,{children:e.jsx(O,{colSpan:9,className:"text-center py-8",children:"Memuat data..."})}):o.length===0?e.jsx(me,{children:e.jsx(O,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Tidak ada data lisensi yang ditemukan"})}):o.map((f,N)=>(ne(f.end_date),e.jsxs(Sn.Fragment,{children:[e.jsxs(me,{className:"hover:bg-muted/30",children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(_,{variant:"success",size:"sm",onClick:()=>cn(N),children:Ft[N]?e.jsx($t,{className:"w-4 h-4"}):e.jsx(ct,{className:"w-4 h-4"})}),e.jsx(_,{variant:"warning",size:"sm",onClick:()=>Ae("Edit",f),children:e.jsx(lt,{className:"w-4 h-4"})}),e.jsx(_,{variant:"destructive",size:"sm",onClick:()=>Ae("Delete",f),children:e.jsx(Ve,{className:"w-4 h-4"})})]})}),e.jsx(O,{className:"font-medium",children:f.name}),e.jsx(O,{className:"whitespace-nowrap",children:$(f.start_date)}),e.jsx(O,{className:"whitespace-nowrap",children:$(f.end_date)}),e.jsx(O,{className:"whitespace-nowrap",children:(()=>{const T=ne(f.end_date),le=T.icon;return e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${T.color}`,children:[e.jsx(le,{className:"w-4 h-4 mr-1"}),T.text]})})()}),e.jsx(O,{className:"text-right",children:f.volume}),e.jsx(O,{children:f.satuan}),e.jsx(O,{className:"text-right whitespace-nowrap",children:y(f.harga_satuan)}),e.jsx(O,{className:"text-right whitespace-nowrap",children:y(f.jumlah)})]}),Ft[N]&&e.jsx(me,{className:"bg-muted/5",children:e.jsx(O,{colSpan:9,className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Informasi Akses"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Username:"})," ",f.username]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Password:"}),e.jsx("span",{className:"font-mono",children:Q[N]?f.password:"".repeat(8)}),e.jsx(_,{variant:"ghost",size:"sm",onClick:()=>X(N),className:"h-6 w-6 p-0",children:Q[N]?e.jsx(Vn,{className:"h-4 w-4"}):e.jsx(Wn,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Lokasi:"})," ",f.lokasi_lisensi]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Informasi Tambahan"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Catatan:"}),e.jsx("p",{className:"mt-1",children:f.description})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Pengguna Terakhir:"})," ",f.last_user_input]})]})]})]})})})]},f.uuid)))})]})}),!c&&o.length>0&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[e.jsx(_,{variant:"outline",size:"sm",onClick:()=>j(f=>Math.max(1,f-1)),disabled:g===1,children:e.jsx($n,{className:"w-4 h-4"})}),ln(g,P).map((f,N)=>e.jsx(_,{variant:g===f?"default":"outline",size:"sm",onClick:()=>typeof f=="number"&&j(f),disabled:f==="...",children:f},N)),e.jsx(_,{variant:"outline",size:"sm",onClick:()=>j(f=>Math.min(P,f+1)),disabled:g===P,children:e.jsx(ct,{className:"w-4 h-4"})})]})]})},bi=({onLogout:t})=>{const a=r.useRef(null),s=()=>{var n;(n=a.current)==null||n.refreshData()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Mr,{onLogout:t}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:e.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:"Dashboard Monitoring Lisensi"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Pantau status dan kelola lisensi aset"})]}),e.jsx(Rr,{ref:a}),e.jsx(ci,{onDataChange:s})]})})]})};export{bi as default};
